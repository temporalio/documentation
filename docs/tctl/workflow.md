---
id: workflow
title: tctl workflow command reference
sidebar_label: workflow
description: How to use the tctl workflow command
toc_max_heading_level: 4
---

<!-- THIS FILE IS GENERATED. DO NOT EDIT THIS FILE DIRECTLY -->

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

The `tctl workflow` commands enable [Workflow Execution](/workflows#workflow-execution) operations.

Alias: `w`

- [`tctl workflow cancel`](/tctl/workflow#cancel)
- [`tctl workflow count`](/tctl/workflow#count)
- [`tctl workflow describe`](/tctl/workflow#describe)
- [`tctl workflow list`](/tctl/workflow#list)
- [`tctl workflow query`](/tctl/workflow#query)
- [`tctl workflow reset`](/tctl/workflow#reset)
- [`tctl workflow reset-batch`](/tctl/workflow#reset-batch)
- [`tctl workflow scan`](/tctl/workflow#scan)
- [`tctl workflow show`](/tctl/workflow#show)
- [`tctl workflow signal`](/tctl/workflow#signal)
- [`tctl workflow stack`](/tctl/workflow#stack)
- [`tctl workflow start`](/tctl/workflow#start)
- [`tctl workflow terminate`](/tctl/workflow#terminate)

## cancel

The `tctl workflow cancel` command cancels a [Workflow Execution](/workflows#workflow-execution).

Canceling a running Workflow Execution records a `WorkflowExecutionCancelRequested` event in the History.
A new command task will be scheduled.
After cancellation, the Workflow Execution can perform cleanup work.

See also [`tctl workflow terminate`](/tctl/workflow#terminate).

`tctl workflow cancel <modifiers>`

The following modifiers are supported and control the behavior of the command.
Always include required modifiers when executing this command.

- [--run-id](/tctl/modifiers#--run-id)
- [--workflow-id](/tctl/modifiers#--workflow-id)

## count

The `tctl workflow count` command counts [Workflow Executions](/workflows#workflow-execution).
This command requires Elasticsearch to be enabled.

`tctl workflow count <modifiers>`

The following modifier controls the behavior of the command.

- [--query](/tctl/modifiers#--query)

**Example**

```bash
tctl workflow count --query 'ExecutionStatus="Running"'
```

## delete

The `tctl workflow delete` command deletes a [Workflow Execution](/workflows#workflow-execution).

`tctl workflow delete`

The following modifiers are supported and control the behavior of the command.
Always include required modifiers when executing this command.

- [--namespace](/tctl/modifiers#--namespace)
- [--run-id](/tctl/modifiers#--run-id)
- [--workflow-id](/tctl/modifiers#--workflow-id)

## describe

The `tctl workflow describe` command shows information about a [Workflow Execution](/workflows#workflow-execution).
This information can be used to locate a failed Workflow Execution, for example.

`tctl workflow describe <modifiers>`

Alias: `d`

The following modifiers control the behavior of the command.
Always include required modifiers when executing this command.

- [--raw](/tctl/modifiers#--raw)
- [--reset-points-only](/tctl/modifiers#--reset-points-only)
- [--run-id](/tctl/modifiers#--run-id)
- [--workflow-id](/tctl/modifiers#--workflow-id)

## execute

The `tctl workflow execute` command starts a new [Workflow Execution](/workflows#workflow-execution) and shows its progress until completion.

The command is entered in the following format:

`tctl workflow execute [modifiers]`

Single quotes (`''`) are used to wrap input as JSON.

The following modifiers are supported and control the behavior of the command.
Always include required modifiers when executing this command.

- [--cron](/tctl/modifiers#--cron)
- [--execution-timeout](/tctl/modifiers#--execution-timeout)
- [--fields](/tctl/modifiers#--fields)
- [--input](/tctl/modifiers#--input)
- [--input-file](/tctl/modifiers#--input-file)
- [--limit](/tctl/modifiers#--limit)
- [--max-field-length](/tctl/modifiers#--max-field-length)
- [--memo-key](/tctl/modifiers#--memo-key)
- [--memo](/tctl/modifiers#--memo)
- [--memo-file](/tctl/modifiers#--memo-file)
- [--no-pager](/tctl/modifiers#--no-pager)
- [--output](/tctl/modifiers#--output)
- [--pager](/tctl/modifiers#--pager)
- [--search-attribute-key](/tctl/modifiers#--search-attribute-key)
- [--search-attribute-value](/tctl/modifiers#--search-attribute-value)
- [--task-queue](/tctl/modifiers#--task-queue)
- [--task-timeout](/tctl/modifiers#--task-timeout)
- [--time-format](/tctl/modifiers#--time-format)
- [--type](/tctl/modifiers#--type)
- [--workflow-id](/tctl/modifiers#--workflow-id)
- [--workflow-id-reuse-policy](/tctl/modifiers#--workflow-id-reuse-policy)

## list

The `tctl workflow list` command lists open or closed [Workflow Executions](/workflows#workflow-execution).

By default, this command lists a maximum of 10 closed Workflow Executions.

- To set the number of items printed, use the `--limit` option.
- To specify fields to print, use the `--fields` option.
- To enable or disable a pager, use `--pager <value>` or `--no-pager`.

`tctl workflow list <modifiers>`

The following modifiers are supported and control the behavior of the command.

- [--archived](/tctl/modifiers#--archived)
- [--fields](/tctl/modifiers#--fields)
- [--limit](/tctl/modifiers#--limit)
- [--no-pager](/tctl/modifiers#--no-pager)
- [--output](/tctl/modifiers#--output)
- [--pager](/tctl/modifiers#--pager)
- [--query](/tctl/modifiers#--query)
- [--time-format](/tctl/modifiers#--time-format)

**Examples**

List all Workflows with the given WorkflowId or RunId:

```bash
tctl workflow list \
  --query 'WorkflowType = "main.Workflow" and (WorkflowId = "1645a588-4772-4dab-b276-5f9db108b3a8" or RunId = "be66519b-5f09-40cd-b2e8-20e4106244dc")'
```

List all open Workflows that started at a given time:

```bash
tctl workflow list \
  --query 'WorkflowType = "main.Workflow" StartTime > "2019-06-07T16:46:34-08:00" and ExecutionStatus = "Running"'
```

## query

The `tctl workflow query` command sends a [Query](/workflows#query) to a [Workflow Execution](/workflows#workflow-execution).

Queries can be used to retrieve all or part of the Workflow state with given parameters.

```bash
$ tctl workflow query --workflow-id "HelloQuery" --query-type "getCount"
Query result as JSON:
3
```

Queries can also be used on completed Workflows.
Let's complete a Workflow by updating its greeting, and then query the now-finished Workflow.

```bash
$ tctl workflow signal --workflow-id "HelloQuery" --name "updateGreeting" --input \"Bye\"
Signal workflow succeeded.
$ tctl workflow query --workflow-id "HelloQuery" --query-type "getCount"
Query result as JSON:
4
```

## Modifiers

Queries are written as follows:

`tctl workflow query --workflow-id [modifiers]`

The following modifiers control the behavior of the command.
Always include required modifiers when executing this command.

- [--input](/tctl/modifiers#--input)
- [--input-file](/tctl/modifiers#--input-file)
- [--query-reject-condition](/tctl/modifiers#--query-reject-condition)
- [--query-type](/tctl/modifiers#--query-type)
- [--run-id](/tctl/modifiers#--run-id)
- [--workflow-id](/tctl/modifiers#--workflow-id)

## reset

The `tctl workflow reset` command resets a [Workflow Execution](/workflows#workflow-execution) by either [`eventId`](#eventid)or [`resetType`](#resettype).

Resetting a Workflow allows the process to be resumed from a certain point without losing your parameters or Event History.

`tctl workflow reset <modifiers>`

The following modifiers control the behavior of the command.

- [--event-id](/tctl/modifiers#--event-id)
- [--reason](/tctl/modifiers#--reason)
- [--reset-type](/tctl/modifiers#--reset-type)
- [--reset-reapply-type](/tctl/modifiers#--reset-reapply-type)
- [--reset-bad-binary-checksum](/tctl/modifiers#--reset-bad-binary-checksum)
- [--run-id](/tctl/modifiers#--run-id)
- [--workflow-id](/tctl/modifiers#--workflow-id)

## reset-batch

The `tctl workflow reset-batch` command resets a batch of [Workflow Executions](/workflows#workflow-execution) by [`resetType`](#resettype).

Resetting a Workflow allows the process to be resumed from a certain point without losing your parameters or Event History.

`tctl workflow reset-batch <modifiers>`

The following modifiers control the behavior of the command.

- [--dry-run](/tctl/modifiers#--dry-run)
- [--exclude-file](/tctl/modifiers#--exclude-file)
- [--input-file](/tctl/modifiers#--input-file)
- [--input-parallelism](/tctl/modifiers#--input-parallelism)
- [--non-deterministic](/tctl/modifiers#--non-deterministic)
- [--query](/tctl/modifiers#--query)
- [--reason](/tctl/modifiers#--reason)
- [--reset-bad-binary-checksum](/tctl/modifiers#--reset-bad-binary-checksum)
- [--reset-type](/tctl/modifiers#--reset-type)
- [--skip-current-open](/tctl/modifiers#--skip-current-open)
- [--skip-base-not-current](/tctl/modifiers#--skip-base-is-not-current)

## scan

The `tctl workflow scan` command lists [Workflow Executions](/workflows#workflow-execution).

By default, this command lists a maximum of 2000 Workflow Executions.
To set the size of a page, use the `--pagesize` option.

See also [`tctl workflow list`](/tctl/workflow#list).

`tctl workflow scan <modifiers>`

The following modifiers control the behavior of the command.

- [--fields](/tctl/modifiers#--fields)
- [--limit](/tctl/modifiers#--limit)
- [--no-pager](/tctl/modifiers#--no-pager)
- [--output](/tctl/modifiers#--output)
- [--pager](/tctl/modifiers#--pager)
- [--query](/tctl/modifiers#--query)
- [--time-format](/tctl/modifiers#--time-format)

## show

The `tctl workflow show` command shows the [Event History](/workflows#event-history) for the specified [Workflow Execution](/workflows#workflow-execution).

`tctl workflow show <modifiers>`

The following modifiers control the behavior of the command.

- [--fields](/tctl/modifiers#--fields)
- [--follow](/tctl/modifiers#--follow)
- [--limit](/tctl/modifiers#--limit)
- [--max-field-length](/tctl/modifiers#--max-field-length)
- [--no-pager](/tctl/modifiers#--no-pager)
- [--output](/tctl/modifiers#--output)
- [--output-filename](/tctl/modifiers#--output-filename)
- [--pager](/tctl/modifiers#--pager)
- [--reset-points-only](/tctl/modifiers#--reset-points-only)
- [--run-id](/tctl/modifiers#--run-id)
- [--time-format](/tctl/modifiers#--time-format)
- [--workflow-id](/tctl/modifiers#--workflow-id)

## signal

The `tctl workflow signal` command [Signals](/workflows#signal) a [Workflow Execution](/workflows#workflow-execution).

Workflows listen for Signals by their Signal name, and can be made to listen to one or more Signal names.
The Workflow below listens for instances of "HelloSignal":

```bash
tctl workflow start  --workflow-id "HelloSignal" --taskqueue HelloWorldTaskQueue --workflow-type HelloWorld --execution-timeout 3600 --input \"World\"
```

The Worker would return this output upon receiving the Signal:

```text
13:57:44.258 [workflow-method] INFO  c.t.s.javaquickstart.GettingStarted - 1: Hello World!
```

Signals can also be used to change variable values.

```bash
tctl workflow signal --workflow-id "HelloSignal" --name "updateGreeting" --input \"Hi\"
```

The output would change from the first Signal received.

```text
13:57:44.258 [workflow-method] INFO  c.t.s.javaquickstart.GettingStarted - 1: Hello World!
13:58:22.352 [workflow-method] INFO  c.t.s.javaquickstart.GettingStarted - 2: Hi World!
```

When a Signal is sent, an await condition is made to block any Signals that contain the same input value.
However, changing the greeting in our example unblocks it:

```bash
tctl workflow signal --workflow-id "HelloSignal" --name "updateGreeting" --input \"Welcome\"
```

Worker output:

```text
13:57:44.258 [workflow-method] INFO  c.t.s.javaquickstart.GettingStarted - 1: Hello World!
13:58:22.352 [workflow-method] INFO  c.t.s.javaquickstart.GettingStarted - 2: Hi World!
13:59:29.097 [workflow-method] INFO  c.t.s.javaquickstart.GettingStarted - 3: Welcome World!
```

Sending Signals does not require a running Worker.

```bash
tctl workflow signal --workflow-id "HelloSignal" --name "updateGreeting" --input \"Welcome\"
```

CLI output:

```text
Signal workflow succeeded.
```

The Signal request is queued inside the Temporal Server until the Worker is restarted.
If the given Signal contains the same input as before, the queued Signal will be ignored.

Complete the Workflow by sending a Signal with a "Bye" greeting:

```bash
tctl workflow signal --workflow-id "HelloSignal" --name "updateGreeting" --input \"Bye\"
```

Check that the Workflow Execution has been completed.

```bash
tctl workflow showid HelloSignal
```

## Modifiers

Signals are written as follows:

```bash
tctl workflow signal --workflow-id [modifiers]
```

The following modifiers control the behavior of the command.
Make sure to include required modifiers in all command executions.

- [--input](/tctl/modifiers#--input)
- [--input-file](/tctl/modifiers#--input-file)
- [--name](/tctl/modifiers#--name)
- [--run-id](/tctl/modifiers#--run-id)
- [--workflow-id](/tctl/modifiers#--workflow-id)

## stack

The `tctl workflow stack` command queries [Workflow Execution](/workflows#workflow-execution) with `--stack-trace` as the query type.

`tctl workflow stack <modifiers>`

The following modifiers control the behavior of the command.

- [--input](/tctl/modifiers#--input)
- [--input-file](/tctl/modifiers#--input-file)
- [--query-reject-condition](/tctl/modifiers#--query-reject-condition)
- [--run-id](/tctl/modifiers#--run-id)
- [--workflow-id](/tctl/modifiers#--workflow-id)

## start

The `tctl workflow start` command starts a new [Workflow Execution](/workflows#workflow-execution).
This command returns the Workflow Id and Run Id immediately after starting the Workflow.

`tctl workflow start <modifiers>`

The following modifiers control the behavior of the command.
Always include required modifiers when executing this command.

- [--cron](/tctl/modifiers#--cron)
- [--execution-timeout](/tctl/modifiers#--execution-timeout)
- [--fields](/tctl/modifiers#--fields)
- [--input](/tctl/modifiers#--input)
- [--input-file](/tctl/modifiers#--input-file)
- [--limit](/tctl/modifiers#--limit)
- [--max-field-length](/tctl/modifiers#--max-field-length)
- [--memo-key](/tctl/modifiers#--memo-key)
- [--memo](/tctl/modifiers#--memo)
- [--memo-file](/tctl/modifiers#--memo-file)
- [--no-pager](/tctl/modifiers#--no-pager)
- [--output](/tctl/modifiers#--output)
- [--pager](/tctl/modifiers#--pager)
- [--run-timeout](/tctl/modifiers#--run-timeout)
- [--search-attribute-key](/tctl/modifiers#--search-attribute-key)
- [--search-attribute-value](/tctl/modifiers#--search-attribute-value)
- [--task-queue](/tctl/modifiers#--task-queue)
- [--task-timeout](/tctl/modifiers#--task-timeout)
- [--time-format](/tctl/modifiers#--time-format)
- [--type](/tctl/modifiers#--type)
- [--workflow-id](/tctl/modifiers#--workflow-id)
- [--workflow-task-timeout](/tctl/modifiers#--workflow-task-timeout)
- [--workflow-id-reuse-policy](/tctl/modifiers#--workflow-id-reuse-policy)

## terminate

The `tctl workflow terminate` command terminates a [Workflow Execution](/workflows#workflow-execution).

Terminating a running Workflow Execution records a `WorkflowExecutionTerminated` event as the closing event in the History.
No more command tasks will be scheduled.

See also [`tctl workflow cancel`](/tctl/workflow#cancel).

`tctl workflow terminate <modifiers>`

The following modifiers control the behavior of the command.

- [--reason](/tctl/modifiers#--reason)
- [--run-id](/tctl/modifiers#--run-id)
- [--workflow-id](/tctl/modifiers#--workflow-id)
