---
id: private-link
title: AWS PrivateLink routing
sidebar_label: AWS PrivateLink routing
slug: /cloud/high-availability/private-link
description: Temporal Cloud's High Availability Namespaces offer automated failover, synchronized data replication, and high availability for workloads requiring disaster-tolerant deployment and 99.99% uptime.
tags:
  - Temporal Cloud
  - Production
  - High Availability
keywords:
  - availability
  - explanation
  - failover
  - high-availability
  - multi-region
  - multi-region namespace
  - namespaces
  - temporal-cloud
  - term
---

import CaptionedImage from '@site/src/components/captioned-image/CaptionedImage';
import DiscoverableDisclosure from '@site/src/components/disclosures/DiscoverableDisclosure';
import ToolTipTerm from '@site/src/components/tooltip/ToolTipTerm';

:::important

Proper networking configuration is required for failover to be transparent to clients and workers when using PrivateLink.
This page describes how to configure routing for Namespaces with High Availability features on AWS PrivateLink.

:::

You may need to:

- override our regional DNS zone; and
- ensure network connectivity between the two regions.

![Customer side solution example](/img/cloud/high-availability/private-link.png)

When using PrivateLink, you connect to Temporal Cloud a VPC Endpoint which has addresses local to your network.
The `region.<tmprl_domain>` zone is configured in the Temporal systems as an independent zone.
This allows you to override it to make sure traffic is routed internally for the regions in use.
A Namespace's active region is reflected as the target of a CNAME record.
For example, if a Namespaceâ€™s active region is AWS us-west-2, the DNS configuration would look like this:

| Domain                              | Type   | Value                        |
|-------------------------------------|--------|------------------------------|
| ha-namespace.account-id.tmprl.cloud | CNAME  | aws-us-west-2.region.tmprl.cloud |

After a failover, the CNAME record will be updated to point to the failover region, for example:

| Domain                              | Type   | Value                        |
|-------------------------------------|--------|------------------------------|
| ha-namespace.account-id.tmprl.cloud | CNAME  | aws-us-east-1.region.tmprl.cloud |

The Temporal domain did not change, but the CNAME updated from us-west-2 to us-east-1.



To set up the DNS override, you override specific regions to target the relevant IP addresses (e.g. aws-us-west-1.region.tmprl.cloud to target 192.168.1.2).
Using AWS, this can be done using a private hosted zone in Route53 for `region.<tmprl_domain>`.
Link that private zone to the VPCs you use for Workers.
Private connectivity is not yet offered for GCP multi-region Namespaces.

When your Workers connect to the Namespace, they first resolve the `<ns>.<acct>.<tmprl_domain>` record.
This targets `<active>.region.<tmprl_domain>` using a CNAME.
Your private zone overrides that second DNS resolution, leading traffic to reach the internal IP you're using.

Consider how you'll configure Workers to run in this scenario.
You might set Workers to run in both regions at all times.
Alternately, you could establish connectivity between the regions to redirect Workers once failover occurs.

The following table lists Temporal's available regions, PrivateLink endpoints, and DNS record overrides.
The `sa-east-1` region listed here is not yet available for use with multi-region Namespaces.
There is (currently) only one region on the continent.

| Region           | PrivateLink Service Name                                       | DNS Record Override                     |
| ---------------- | -------------------------------------------------------------- | --------------------------------------- |
| `ap-northeast-1` | `com.amazonaws.vpce.ap-northeast-1.vpce-svc-08f34c33f9fb8a48a` | `aws-ap-northeast-1.region.tmprl.cloud` |
| `ap-northeast-2` | `com.amazonaws.vpce.ap-northeast-2.vpce-svc-08c4d5445a5aad308` | `aws-ap-northeast-2.region.tmprl.cloud` |
| `ap-south-1`     | `com.amazonaws.vpce.ap-south-1.vpce-svc-0ad4f8ed56db15662`     | `aws-ap-south-1.region.tmprl.cloud`     |
| `ap-south-2`     | `com.amazonaws.vpce.ap-south-2.vpce-svc-08bcf602b646c69c1`     | `aws-ap-south-2.region.tmprl.cloud`     |
| `ap-southeast-1` | `com.amazonaws.vpce.ap-southeast-1.vpce-svc-05c24096fa89b0ccd` | `aws-ap-southeast-1.region.tmprl.cloud` |
| `ap-southeast-2` | `com.amazonaws.vpce.ap-southeast-2.vpce-svc-0634f9628e3c15b08` | `aws-ap-southeast-2.region.tmprl.cloud` |
| `ca-central-1`   | `com.amazonaws.vpce.ca-central-1.vpce-svc-080a781925d0b1d9d`   | `aws-ca-central-1.region.tmprl.cloud`   |
| `eu-central-1`   | `com.amazonaws.vpce.eu-central-1.vpce-svc-073a419b36663a0f3`   | `aws-eu-central-1.region.tmprl.cloud`   |
| `eu-west-1`      | `com.amazonaws.vpce.eu-west-1.vpce-svc-04388e89f3479b739`      | `aws-eu-west-1.region.tmprl.cloud`      |
| `eu-west-2`      | `com.amazonaws.vpce.eu-west-2.vpce-svc-0ac7f9f07e7fb5695`      | `aws-eu-west-2.region.tmprl.cloud`      |
| `sa-east-1`      | `com.amazonaws.vpce.sa-east-1.vpce-svc-0ca67a102f3ce525a`      | `aws-sa-east-1.region.tmprl.cloud`      |
| `us-east-1`      | `com.amazonaws.vpce.us-east-1.vpce-svc-0822256b6575ea37f`      | `aws-us-east-1.region.tmprl.cloud`      |
| `us-east-2`      | `com.amazonaws.vpce.us-east-2.vpce-svc-01b8dccfc6660d9d4`      | `aws-us-east-2.region.tmprl.cloud`      |
| `us-west-2`      | `com.amazonaws.vpce.us-west-2.vpce-svc-0f44b3d7302816b94`      | `aws-us-west-2.region.tmprl.cloud`      |
