---
id: api-keys
title: API keys - Temporal Cloud feature guide
sidebar_label: API keys
description: Temporal Cloud supports secure programmatic access through API key authentication, ensuring user-level and RBAC-based authorization. Manage your API keys via Cloud UI or CLI.
slug: /cloud/api-keys
toc_max_heading_level: 4
keywords:
  - explanation
  - feedback
  - get started
  - getting started
  - how to
tags:
  - explanation
  - feedback
  - get-started
  - getting-started
  - how-to
---

:::tip SUPPORT, STABILITY, AND DEPENDENCY INFO

- API key authentication for Temporal Cloud, `tcld`, SDK-based API calls, and Terraform provider, is currently in [Public Preview](/evaluate/development-production-features/release-stages#public-preview)
- API key authentication for Namespace authentication is in [Pre-release](/evaluate/development-production-features/release-stages#pre-release)
  :::

Temporal Cloud offers secure programmatic access with API key authentication.
API keys provide a widely used industry standard for straightforward access control, requiring only a single key to authenticate.
They provide an alternate approach to [mTLS certificates](https://docs.temporal.io/references/configuration#tls), which offers higher security standards but more complex setup and coding.
API keys simplify deployment and management when mTLS is not required.

This document introduces Temporal Cloud's API key features:

- [API key overview](#overview)
- [Global Administrator API key management](#manage-api-keys)
- [User API key management](#user-api-keys)
- [Manage API keys for Service Accounts](#serviceaccount-api-keys)
- [API keys for Namespace authentication](#namespace-authentication)
- [Use API keys to authenticate](#using-apikeys)
- [API key best practices](#best-practices)
- [Troubleshoot your API key use](#troubleshooting)
- [API keys: Frequently Asked Questions](#faqs)

## API key overview {#overview}

Temporal Cloud API keys provide identity-based authentication for Temporal users and [Service Accounts](/cloud/service-accounts).
Each key is unique to a single identity and is linked to role-based access control (RBAC) settings to ensure secure and appropriate access.

The authentication process follows this pathway:

```text
API key (authentication) → Identity (user or Service Account) → RBAC (authorization)
```

### API key use cases

API keys are well suited for the following scenarios:

- _**Cloud operations automation**_:
  API keys work with most Temporal Cloud operational tools, including the [`tcld`](/cloud/tcld), [Cloud Ops APIs](/ops), and [the Terraform provider](/production-deployment/cloud/terraform-provider).
  Use API keys to manage your Temporal Cloud account, Namespaces, certificates, and user identities.
  - API keys for use in Cloud operations tools are in [Public Preview](/evaluate/development-production-features/release-stages#public-preview).
- _**Namespace authentication**_: API keys create an authentication mechanism for executing and managing Workflows via the SDK and Temporal CLI, offering an alternative to mTLS-based authentication.
  - API keys for Namespace authentication are currently in [Pre-release](/evaluate/development-production-features/release-stages#pre-release).

API keys are an opt-in feature that must be enabled by a Global Administrator.
For instructions on managing API keys for your organization, see [Global Administrator API key management](#ga-manage-api-keys).

### API key permissions

API keys support both users and Service Accounts.
The following details the differences in their permissions:

- Both users and Global Administrators may create, delete, and update API key access using the Cloud UI or `tcld`.
- Only Global Administrators can create, delete, and update access to API keys for Service Accounts.

### API key supported tooling

You can use API keys to authenticate using:

- [The Temporal CLI v 0.12 or higher](/cli)
- [Temporal SDKs (latest recommended)](/develop)
- [`tcld`](/production-deployment/cloud/tcld/index.mdx)
- [The Cloud Operations API](/production-deployment/cloud/operation-api.mdx)
- [Temporalʼs Terraform provider](/production-deployment/cloud/terraform-provider)

### API key prerequisites

Check the following set-up details before using API keys:

- The Global Administrator should [enable API keys access](#enabledisable-an-api-key)
- A Cloud User or Service Account
- Access to the [Temporal Cloud UI](https://cloud.temporal.io/) or Temporal Cloud CLI ([tcld](https://docs.temporal.io/cloud/tcld/)) to create an API key

## Global Administrator API key management {#manage-api-keys}

Global Administrators can monitor, manage, disable, and delete API keys for any user or Service Account within their account.
To manage your account’s API keys:

1. [Login](https://cloud.temporal.io/) to the Temporal Cloud UI.
2. [Select **Settings** and choose **API keys**](https://cloud.temporal.io/settings/api-keys).

API keys are not enabled by default.
Global Administrator must enable access, which will allow the creation and use of API keys.

Administrators can disable or delete an individual API key using the vertical ellipsis at the right of the API keys row.
Disabling the API keys feature disables the creation of new API keys, however existing API keys can be used to authenticate into Temporal Cloud until they are either disabled, deleted or expire.

Deleting or disabling a key removes the ability for that API key to authenticate into Temporal Cloud.
If you delete or disable an API key for a running Workflow, that Workflow will fail until a new API key secret is created and configured.

:::info FIND API KEYS

Find specific API keys by filtering by API key state and Identity type (Global Administrators only).

:::

## User API key management {#user-api-keys}

Manage your personal API keys with the Temporal Cloud UI or `tcld`.

### Generate an API key

Create API keys using one of the following methods:

#### Generate API keys with the Temporal Cloud UI

[Login](https://cloud.temporal.io/) to the Temporal Cloud UI and navigate to [Profile Page → API keys](https://cloud.temporal.io/profile/api-keys). Then select **Create API key** and provide the following information:

- API key name - a short identifiable name for the key
- API key description - a longer form description of the key's use
- Expiration date - the end-date for the API key (max 90 days)

Finish by selecting **Generate API key**.

:::caution

- Once generated, copy and securely save the API key. It will be displayed only once for security purposes.
- Temporal supports API keys lifespans up to 90 days.
  Your key will be valid during this period unless it is revoked or the account is deactivated.

:::

#### Generate API keys with `tcld`

To generate an API key, log into your account and issue the following:

```command
tcld login
tcld apikey create \
    --name "<key-name>" \
    --description "<key-description>" \
    --duration "<key-duration>"
```

Duration is the time until the API key expires, for example: "30d", "4d12h", etc.

### Delete an API key

Deleting an API key removes the ability for that key to authenticate with Temporal Cloud.

:::caution

If you delete an API key for a running Workflow, that Workflow will fail unless you rotate the API key for a new one.
This can affect long-running Workflows, whose lifespans exceed the API key lifetime.

:::

#### Delete API keys with the Temporal Cloud UI

Follow these steps to remove API keys:

1. [Login](https://cloud.temporal.io/) to the Temporal Cloud UI.
2. Navigate to your [Profile Page → API keys](https://cloud.temporal.io/profile/api-keys).
3. Select the three vertical dots to the right of the API key's row and choose **Delete**.
4. Choose **Delete**.

#### Delete API keys with `tcld`

To delete an API key, log into your account and issue the following:

```command
tcld login
tcld apikey delete --id <api-key-id>
```

### Enable/Disable an API key

API keys can be enabled or disabled.
While disabled, an API key cannot authenticate with Temporal Cloud.

#### Manage API key state with the Temporal Cloud UI

Follow these steps:

1. [Login](https://cloud.temporal.io/) to the Temporal Cloud UI.
2. Navigate to [Profile Page → API keys](https://cloud.temporal.io/profile/api-keys).
3. Select the three vertical dots to the right of the API key's row and choose **Disable**.

#### Manage API key state with `tcld`

To manage an API key, log into your account, log in, and issue one of the following management options:

```command
tcld login
tcld apikey disable --id <api-key-id>
tcld apikey enable --id <api-key-id>
```

## Manage API keys for Service Accounts {#serviceaccount-api-keys}

Global Administrators can manage API keys for all Service Accounts in their account and can generate API keys for Service Accounts.
This differs from user accounts, which must generate their own API keys.

### Generate an API key for a Service Account

Create Service Account API keys using one of the following methods:

#### Generate API keys with the Temporal Cloud UI

[Login](https://cloud.temporal.io/) to the Temporal Cloud UI and navigate to [https://cloud.temporal.io/settings/api-keys](https://cloud.temporal.io/settings/api-keys). Select **Create API key** and then **Service Account**, at the top of the page under "Create an API key for". Select a Service Account in the "Mapped to identity" input box,  and provide the following information:

- API key name - a short identifiable name for the key
- API key description - a longer form description of the key's use
- Expiration date - the end-date for the API key (max 90 days)

Finish by selecting **Generate API key**.

:::caution

- Once generated, copy and securely save the API key. It will be displayed only once for security purposes.
- Temporal supports API keys lifespans up to 90 days.
  Your key will be valid during this period unless it is revoked or the account is deactivated.

:::

#### Generate API keys with `tcld`

To create an API key for a Service Account, use `tcld apikey create` with the `--service-account-id` flag:

```
tcld apikey create --namespace <namespace.accountId> \
    --description "<api-key-description>" \
    --duration <api-key-duration> \
    --service-account-id <service-account-id>
```

### Enable or disable an API key

Global Administrators can manage API key access for any user in their account using the Temporal Cloud UI or `tcld`.

#### Manage keys with Temporal Cloud UI

Follow these steps:

1. Log into Temporal Cloud.
1. Navigate to [https://cloud.temporal.io/settings/api-keys](https://cloud.temporal.io/settings/api-keys) and locate the identity that owns the API key.
1. Click the Disable/Enable button to perform your desired action.
   There may be a delay after changing the status of an API key.
   Once successful, the updated API key status will be shown in the row.

#### Manage keys with `tcld`

Use the `tcld apikey disable` or `tcld apikey enable` command, to disable or enable an API key:

```
tcld login
tcld apikey disable --id <api-key-id>
tcld apikey enable --id <api-key-id>
```

This command is the same for users and Service Accounts.

### Delete an API key for a Service Account

Global Administrators can delete API keys for any user or Service Account in their account using the Temporal Cloud UI or `tcld`.
Deleting a key removes the ability for that API key to authenticate into Temporal Cloud.
Be aware that if you delete an API key for a running Workflow, that Workflow will fail unless you rotate the API key for a new one.

#### Delete a Service Account API key with Temporal Cloud UI

Follow these steps:

1. Navigate to [https://cloud.temporal.io/settings/api-keys](https://cloud.temporal.io/settings/api-keys).
2. Locate the identity that owns the API key and click on the row to view the API keys associated with the identity.
3. Click the Delete button.
   There may be a delay after changing the status of an API key.
4. Once successful, the API keys status will be reflected in the row.

#### Delete a Service Account API key with `tcld`

Use the `tcld apikey delete` command, to delete an API key.
The process for deleting an API key is the same for a user or Service Account:

```
tcld login
tcld apikey delete --id <api-key-id>
```

## API keys for Namespace authentication {#namespace-authentication}

You can create a Namespace with API key authentication enabled, as an alternative to mTLS-based authentication, by specifying "Allow API key authentication" during the process.
When creating a new Namespace, its gRPC endpoint is based on the authentication method configured for the Namespace.

- For an mTLS connection, the endpoint uses the format `<namespace>.<account>.tmprl.cloud:7233`.
- For an API key connection, the endpoint uses the format `<region>.<cloud_provider>.api.temporal.io:7233`

This gRPC endpoint is used in the connection supplied by the user in the Temporal CLI or SDK when connecting to Temporal Cloud using an API key.

## Use API keys to authenticate {#using-apikeys}

API keys can authenticate with Temporal Cloud using these clients:

- [Temporal CLI v 0.12 or higher](/cli)
- [SDKs (latest recommended)](/develop)
- [Temporal Cloud CLI `tcld`](/production-deployment/cloud/tcld/index.mdx)
- [The Cloud Operations API](/production-deployment/cloud/operation-api.mdx)
- [Temporalʼs Terraform Provider](/production-deployment/cloud/terraform-provider)

### Temporal CLI

To use your API key with the Temporal CLI, either pass the API key to each command with the `--api-key` flag or set an environment variable (recommended).
The environment variable will be automatically picked up by the `tcld` tool.

In addition to passing in the API key, the following client options are required:

- `--address`: Provide the Namespace's gRPC endpoint located in the Namespace UI in the gRPC endpoint box.
  - For API key connectivity, the endpoint format is `<region>.<cloud provider>.api.temporal.io:7233`.
  - You can set the address using an environment variable.
- `--namespace`: Provide the namespace.accountId that appears at the top of the Namespace page in the UI.
  - Format is `<namespace.accountId>`
  - Can be set using an environment variable
- `--grpc-meta "temporal-namespace="`: Provide the namespace.accountId again as grpc-metadata
- `--tls` for a secure connection with the appropriate options
  - Can be set using an environment variable

For example, to connect to Temporal Cloud from the CLI using an environment variable for the API key:

```bash
export TEMPORAL_API_KEY=<key-secret>
temporal workflow list \
    --address <endpoint> \
    --namespace <namespace.accountid> \
    --grpc-meta "temporal-namespace=<namespace.accountid>" \
    --tls
```

### SDK

To use your API key with a Temporal SDK, use headers to specify a Bearer token and a Namespace.
The Bearer token header is used to indicate the authentication type of the request and the Namespace header is used for request routing.
Temporal will simplify this experience for users to reduce the use of headers in subsequent SDK release.

**Go SDK (v 1.26.0+)**

Initial connection:

```go
clientOptions := client.Options{
    HostPort: <endpoint>,
    Namespace: <namespace.accountid>,
    Credentials: client.NewAPIKeyStaticCredentials(<API key>),
    ConnectionOptions: client.ConnectionOptions{
        DialOptions: []grpc.DialOption{
            grpc.WithUnaryInterceptor(
                func(ctx context.Context, method string, req any, reply any, cc *grpc.ClientConn, invoker grpc.UnaryInvoker, opts ...grpc.CallOption) error {
                    return invoker(
                        metadata.AppendToOutgoingContext(ctx, "temporal-namespace", <namespace.accountid>),
                        method,
                        req,
                        reply,
                        cc,
                        opts...,
                    )
                },
            ),
        },
    },
}
c, err := client.Dial(clientOptions)
```

Update API key:

```go
// Assuming client Credentials created with
var myKey string
creds := client.NewAPIKeyDynamicCredentials(
    func(context.Context) (string, error) { return myKey, nil })
// Just update by replacing
myKey = myKeyUpdated
```

#### Go SDK (pre v 1.26.0)

Initial connection:

```go
// Create headers provider
type APIKeyProvider struct {
    APIKey string
    Namespace string
}

func (a *APIKeyProvider) GetHeaders(context.Context) (map[string]string, error) {
    return map[string]string{"Authorization": "Bearer " + a.APIKey, "temporal-namespace": a.Namespace}, nil
}

// Use headers provider
apiKeyProvider := &APIKeyProvider{APIKey: <APIKey>, Namespace: <namespace.accountid>}
c, err := client.Dial(client.Options{
    HostPort: <endpoint>,
    Namespace: <namespace.accountid>,
    HeadersProvider: apiKeyProvider,
    ConnectionOptions: client.ConnectionOptions{TLS: &tls.Config{
    }},
})
```

Update API key:

```go
apiKeyProvider.APIKey = myKeyUpdated
```

#### Java SDK

At a client level:

```java
// Create a Metadata object with the Temporal namespace header key.
Metadata.Key<String> TEMPORAL_NAMESPACE_HEADER_KEY =
    Metadata.Key.of("temporal-namespace", Metadata.ASCII_STRING_MARSHALLER);
Metadata metadata = new Metadata();
metadata.put(TEMPORAL_NAMESPACE_HEADER_KEY, <namespace.accountid>);

// Create the Workflow service stub.
WorkflowServiceStubsOptions.Builder stubOptions =
    WorkflowServiceStubsOptions.newBuilder()
        .setChannelInitializer(
            (channel) -> {
                channel.intercept(MetadataUtils.newAttachHeadersInterceptor(metadata));
            })
        .addGrpcMetadataProvider(
            new AuthorizationGrpcMetadataProvider(() -> "Bearer " + <APIKey>))
        .setTarget(<endpoint>);
stubOptions.setSslContext(SimpleSslContextBuilder.noKeyOrCertChain().setUseInsecureTrustManager(false).build());

WorkflowServiceStubs service = WorkflowServiceStubs.newServiceStubs(stubOptions.build());

/*
 * Get a Workflow service client which can be used to start, Signal, and Query Workflow Executions.
 */
WorkflowClient client =
    WorkflowClient.newInstance(
        service, WorkflowClientOptions.newBuilder().setNamespace(<namespace.accountid>).build());
```

At a per-call level:

```java
String myKey = "Bearer " + <APIKey>;
WorkflowServiceStubsOptions stubOptions =
    WorkflowServiceStubsOptions.newBuilder()
        .addGrpcMetadataProvider(new AuthorizationGrpcMetadataProvider(() -> myKey))
        .build();

// Just update by replacing, this must be done in a thread safe way
myKey = "Bearer " + <new APIKey>;
```

#### Python SDK (v 1.6.0+)

Initial connection:

```python
client = await Client.connect(
    <endpoint>,
    namespace=<namespace.accountid>,
    rpc_metadata={"temporal-namespace": <namespace.accountid>},
    api_key=<APIKey>,
    tls=True,
)
```

Update API key (newer SDK):

```python
my_client.api_key = my_key_updated
```

#### Python SDK (pre v 1.6.0)

Initial connection:

```python
client = await Client.connect(
    <endpoint>,
    namespace=<namespace.accountid>,
    rpc_metadata={"temporal-namespace": <namespace.accountid>, "Authorization": f"Bearer {<APIKey>}"},
    tls=True,
)
```

Update API key:

```python
my_client.rpc_metadata = {"Authorization": f"Bearer {<my_key_updated>}"}
```

#### .NET SDK (v 1.1.0+)

Initial connection:

```csharp
var myClient = TemporalClient.ConnectAsync(new(<endpoint>)
{
    Namespace = <namespace.accountid>,
    ApiKey = <APIKey>,
    RpcMetadata = new Dictionary<string, string>()
    {
        ["temporal-namespace"] = "${<namespace.accountid>}",
    },
    Tls = new(),
});
```

Update API key:

```csharp
myClient.Connection.ApiKey = myKeyUpdated;
```

**.NET SDK (pre v 1.1.0)**

Initial connection:

```csharp
var myClient = TemporalClient.ConnectAsync(new(<endpoint>)
{
    Namespace = <namespace.accountid>,
    RpcMetadata = new Dictionary<string, string>()
    {
        ["Authorization"] = $"Bearer {<APIKey>}",
        ["temporal-namespace"] = "${<namespace.accountid>}",
    },
    Tls = new(),
});
```

Update API key:

```csharp
myClient.Connection.RpcMetadata = new Dictionary<string, string>()
{
    ["Authorization"] = $"Bearer {myKeyUpdated}",
};
```

### `tcld`

To use an API key with `tcld`, use one of the following methods:

- `--api-key` flag
- `TEMPORAL_CLOUD_API_KEY` environment variable

### Cloud Ops API

To use an API key with the [Cloud Ops API](/ops), securely pass your API key in your Cloud Ops API client.

For a complete example, see [Cloud Samples in Go](https://github.com/temporalio/cloud-samples-go/blob/1dd4254b6ed1937e361005c0144410e72b8a5542/client/api/apikey.go).

### Terraform Provider

To use an API key with the [Temporal Terraform Provider](/production-deployment/cloud/terraform-provider), pass the API key as a provider argument.

## API key best practices {#best-practices}

- **Keep it secret; keep it safe**: Treat your API key as you would a password.
  Don't expose it in client-side code, public repositories, or other easily accessible places.
- **Rotate keys regularly**: Change your API keys periodically to minimize potential harm from any leaks.
- **Monitor API key usage**: Keep an eye on the usage metrics and logs.
  If you notice unexpected or unauthorized activity, revoke the key immediately.
- **KMS**: Use a Key Management System to reduce risks of key leak.

## Troubleshoot your API key use {#troubleshooting}

`Invalid API key Errors`: Ensure you copied the key correctly and that it hasn't been revoked (deleted) or expired.

## API keys: Frequently Asked Questions {#faqs}

**Q: Can I issue and use multiple API keys for the same account?**

A: Yes, you can generate multiple keys to use in different services or for team members.

**Q: How many API keys can be issued at once?**

A: 10 active, enabled keys can exist per Identity (User or Service Account).

**Q: Do API keys expire?**

A: Yes. API keys currently have an upper bound of 90 days.
In a subsequent release, long-lived API keys will become available.
Temporal recommends rotating API keys periodically.

**Q: What happens if I misplace or lose my API bearer token/secret key?**

A: For security reasons, we only display the full key once upon creation.
If you lose it, you'll need to generate a new one.
