---
id: logging
title: Logging in TypeScript SDK
sidebar_label: Logging
description: Activities run in the standard Node.js environment and can use any Node.js logger. Workflows require a different API.
---

## Logging from Activities

Activities run in the standard Node.js environment and can use any Node.js logger.

## Logging from Workflows

Logging from Workflows is tricky for 2 reasons:

1. Workflows run in an isolated JS environment and may not do any I/O
1. Workflow code might get replayed generating duplicate log messages

In order to get around this limitation, use the [External Dependencies](/docs/typescript/external-dependencies) mechanism to inject replay-aware functions from the Node.js environment into a Workflow isolate.

## Logs generated by SDK components

The Worker comes with a default logger which defaults to log any messages with level `INFO` and higher to `STDERR` using `console.error`.
There are 5 levels in total: `TRACE`, `DEBUG`, `INFO`, `WARN`, and `ERROR`.

The reason we only offer a default logger is to minimize Worker dependencies and allow SDK users to bring their own logger.

### Customizing the default logger

Temporal ships a [`DefaultLogger`](https://typescript.temporal.io/api/classes/worker.defaultlogger/) that implements the basic interface:

#### Example: Set up the DefaultLogger to only log messages with level WARN and higher

```ts
import { Core, DefaultLogger, LogEntry } from '@temporalio/worker';

const logger = new DefaultLogger('WARN', ({ level, message }) => {
  console.log(`Custom logger: ${level} â€” ${message}`);
});
await Core.install({ logger });
```

#### Example: Accumulate logs for testing/reporting

```ts
const logs: LogEntry[] = [];
const logger = new DefaultLogger('TRACE', (entry) => logs.push(entry));
log.debug('hey', { a: 1 });
log.info('ho');
log.warn('lets', { a: 1 });
log.error('go');
```

The log levels are [listed here](https://typescript.temporal.io/api/namespaces/worker#loglevel) in increasing order of severity.

### Using a custom logger

A common logging use case is logging to a file to be picked up by a collector like the [Datadog Agent](https://docs.datadoghq.com/logs/log_collection/nodejs/?tab=winston30).

```ts
import { Worker } from '@temporalio/worker';
import winston from 'winston';

const logger = winston.createLogger({
  level: 'info',
  format: winston.format.json(),
  transports: [new transports.File({ filename: '/path/to/worker.log' })],
});
await Core.create({ logger });
```

## OpenTelemetry Tracing

We are in the process of documenting our OTel support, but meanwhile you can [view our tests](https://github.com/temporalio/sdk-typescript/blob/4505eee94e7d8a10bc187612977fd72bc6d740a6/packages/test/src/test-otel.ts) and get in touch if you need this.
