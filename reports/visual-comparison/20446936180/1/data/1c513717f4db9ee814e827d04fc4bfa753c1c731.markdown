# Page snapshot

```yaml
- generic [active] [ref=e1]:
  - generic [ref=e2]:
    - region "Skip to main content":
      - link "Skip to main content" [ref=e3] [cursor=pointer]:
        - /url: "#__docusaurus_skipToContent_fallback"
    - navigation "Main" [ref=e4]:
      - generic [ref=e5]:
        - generic [ref=e6]:
          - link "Temporal logo" [ref=e7] [cursor=pointer]:
            - /url: https://temporal.io
            - img "Temporal logo" [ref=e9]
          - link "Home" [ref=e10] [cursor=pointer]:
            - /url: /
          - link "Courses" [ref=e11] [cursor=pointer]:
            - /url: https://learn.temporal.io/getting_started/
            - text: Courses
            - img [ref=e12]
          - link "SDKs" [ref=e14] [cursor=pointer]:
            - /url: /develop
          - link "AI Cookbook" [ref=e15] [cursor=pointer]:
            - /url: /ai-cookbook
          - link "Code Exchange" [ref=e16] [cursor=pointer]:
            - /url: https://temporal.io/code-exchange
            - text: Code Exchange
            - img [ref=e17]
          - link "Temporal Cloud" [ref=e19] [cursor=pointer]:
            - /url: /cloud
        - generic [ref=e20]:
          - button "Ask AI" [ref=e21] [cursor=pointer]:
            - img [ref=e22]
            - generic [ref=e26]: Ask AI
          - button "Switch between dark and light mode (currently system mode)" [ref=e28] [cursor=pointer]:
            - img [ref=e29]
          - button "Search (Ctrl+K)" [ref=e32] [cursor=pointer]:
            - generic [ref=e33]:
              - img [ref=e34]
              - generic [ref=e36]: Search
            - generic [ref=e37]:
              - img [ref=e39]
              - generic [ref=e41]: K
    - generic [ref=e44]:
      - complementary [ref=e45]:
        - generic [ref=e47]:
          - navigation "Docs sidebar" [ref=e48]:
            - list [ref=e49]:
              - listitem [ref=e50]:
                - link "Documentation Home" [ref=e51] [cursor=pointer]:
                  - /url: /
              - listitem [ref=e52]:
                - link "Quickstarts" [ref=e53] [cursor=pointer]:
                  - /url: /quickstarts
              - listitem [ref=e54]:
                - generic [ref=e55]:
                  - link "Evaluate" [ref=e56] [cursor=pointer]:
                    - /url: /evaluate/
                  - button "Collapse sidebar category 'Evaluate'" [expanded] [ref=e57] [cursor=pointer]
                - list [ref=e58]:
                  - listitem [ref=e59]:
                    - link "Why Temporal" [ref=e60] [cursor=pointer]:
                      - /url: /evaluate/why-temporal
                  - listitem [ref=e61]:
                    - link "Understanding Temporal" [ref=e62] [cursor=pointer]:
                      - /url: /evaluate/understanding-temporal
                  - listitem [ref=e63]:
                    - generic [ref=e64]:
                      - link "Features" [ref=e65] [cursor=pointer]:
                        - /url: /evaluate/development-production-features/
                      - button "Expand sidebar category 'Features'" [ref=e66] [cursor=pointer]
                  - listitem [ref=e67]:
                    - generic [ref=e68]:
                      - link "Temporal Cloud" [ref=e69] [cursor=pointer]:
                        - /url: /cloud/introduction
                      - button "Expand sidebar category 'Temporal Cloud'" [ref=e70] [cursor=pointer]
                  - listitem [ref=e71]:
                    - link "Security" [ref=e72] [cursor=pointer]:
                      - /url: /security
                  - listitem [ref=e73]:
                    - link "Use Cases" [ref=e74] [cursor=pointer]:
                      - /url: /evaluate/use-cases-design-patterns
              - listitem [ref=e75]:
                - generic [ref=e76]:
                  - link "Develop" [ref=e77] [cursor=pointer]:
                    - /url: /develop/
                  - button "Collapse sidebar category 'Develop'" [expanded] [ref=e78] [cursor=pointer]
                - list [ref=e79]:
                  - listitem [ref=e80]:
                    - generic [ref=e81]:
                      - link "Go SDK" [ref=e82] [cursor=pointer]:
                        - /url: /develop/go/
                      - button "Expand sidebar category 'Go SDK'" [ref=e83] [cursor=pointer]
                  - listitem [ref=e84]:
                    - generic [ref=e85]:
                      - link "Java SDK" [ref=e86] [cursor=pointer]:
                        - /url: /develop/java/
                      - button "Expand sidebar category 'Java SDK'" [ref=e87] [cursor=pointer]
                  - listitem [ref=e88]:
                    - generic [ref=e89]:
                      - link "PHP SDK" [ref=e90] [cursor=pointer]:
                        - /url: /develop/php/
                      - button "Expand sidebar category 'PHP SDK'" [ref=e91] [cursor=pointer]
                  - listitem [ref=e92]:
                    - generic [ref=e93]:
                      - link "Python SDK" [ref=e94] [cursor=pointer]:
                        - /url: /develop/python/
                      - button "Expand sidebar category 'Python SDK'" [ref=e95] [cursor=pointer]
                  - listitem [ref=e96]:
                    - generic [ref=e97]:
                      - link "TypeScript SDK" [ref=e98] [cursor=pointer]:
                        - /url: /develop/typescript/
                      - button "Expand sidebar category 'TypeScript SDK'" [ref=e99] [cursor=pointer]
                  - listitem [ref=e100]:
                    - generic [ref=e101]:
                      - link ".NET SDK" [ref=e102] [cursor=pointer]:
                        - /url: /develop/dotnet/
                      - button "Expand sidebar category '.NET SDK'" [ref=e103] [cursor=pointer]
                  - listitem [ref=e104]:
                    - generic [ref=e105]:
                      - link "Ruby SDK" [ref=e106] [cursor=pointer]:
                        - /url: /develop/ruby/
                      - button "Expand sidebar category 'Ruby SDK'" [ref=e107] [cursor=pointer]
                  - listitem [ref=e108]:
                    - link "Environment configuration" [ref=e109] [cursor=pointer]:
                      - /url: /develop/environment-configuration
                  - listitem [ref=e110]:
                    - link "Activity retry simulator" [ref=e111] [cursor=pointer]:
                      - /url: /develop/activity-retry-simulator
                  - listitem [ref=e112]:
                    - link "Worker performance" [ref=e113] [cursor=pointer]:
                      - /url: /develop/worker-performance
                  - listitem [ref=e114]:
                    - link "Safe deployments" [ref=e115] [cursor=pointer]:
                      - /url: /develop/safe-deployments
                  - listitem [ref=e116]:
                    - link "Plugins guide" [ref=e117] [cursor=pointer]:
                      - /url: /develop/plugins-guide
              - listitem [ref=e118]:
                - generic [ref=e119]:
                  - link "Deploy to production" [ref=e120] [cursor=pointer]:
                    - /url: /production-deployment
                  - button "Collapse sidebar category 'Deploy to production'" [expanded] [ref=e121] [cursor=pointer]
                - list [ref=e122]:
                  - listitem [ref=e123]:
                    - generic [ref=e124]:
                      - link "Temporal Cloud" [ref=e125] [cursor=pointer]:
                        - /url: /cloud
                      - button "Expand sidebar category 'Temporal Cloud'" [ref=e126] [cursor=pointer]
                  - listitem [ref=e127]:
                    - link "Codecs and Encryption" [ref=e128] [cursor=pointer]:
                      - /url: /production-deployment/data-encryption
                  - listitem [ref=e129]:
                    - generic [ref=e130]:
                      - link "Self-host" [ref=e131] [cursor=pointer]:
                        - /url: /self-hosted-guide
                      - button "Expand sidebar category 'Self-host'" [ref=e132] [cursor=pointer]
                  - listitem [ref=e133]:
                    - generic [ref=e134]:
                      - link "Worker deployments" [ref=e135] [cursor=pointer]:
                        - /url: /production-deployment/worker-deployments
                      - button "Expand sidebar category 'Worker deployments'" [ref=e136] [cursor=pointer]
              - listitem [ref=e137]:
                - generic [ref=e138]:
                  - link "CLI (temporal)" [ref=e139] [cursor=pointer]:
                    - /url: /cli
                  - button "Expand sidebar category 'CLI (temporal)'" [ref=e140] [cursor=pointer]
              - listitem [ref=e141]:
                - generic [ref=e142]:
                  - link "References" [ref=e143] [cursor=pointer]:
                    - /url: /references/
                  - button "Expand sidebar category 'References'" [ref=e144] [cursor=pointer]
              - listitem [ref=e145]:
                - generic [ref=e146]:
                  - link "Troubleshooting" [ref=e147] [cursor=pointer]:
                    - /url: /troubleshooting/
                  - button "Expand sidebar category 'Troubleshooting'" [ref=e148] [cursor=pointer]
              - listitem [ref=e149]:
                - generic [ref=e150]:
                  - link "Best Practices" [ref=e151] [cursor=pointer]:
                    - /url: /best-practices/
                  - button "Collapse sidebar category 'Best Practices'" [expanded] [ref=e152] [cursor=pointer]
                - list [ref=e153]:
                  - listitem [ref=e154]:
                    - link "Managing a Namespace" [ref=e155] [cursor=pointer]:
                      - /url: /best-practices/managing-namespace
                  - listitem [ref=e156]:
                    - link "Managing APS Limits" [ref=e157] [cursor=pointer]:
                      - /url: /best-practices/managing-aps-limits
                  - listitem [ref=e158]:
                    - link "Managing Cloud Access Control" [ref=e159] [cursor=pointer]:
                      - /url: /best-practices/cloud-access-control
                  - listitem [ref=e160]:
                    - link "Security Controls for Cloud" [ref=e161] [cursor=pointer]:
                      - /url: /best-practices/security-controls
                  - listitem [ref=e162]:
                    - link "Worker Deployment and Performance" [ref=e163] [cursor=pointer]:
                      - /url: /best-practices/worker
              - listitem [ref=e164]:
                - generic [ref=e165]:
                  - link "Encyclopedia" [ref=e166] [cursor=pointer]:
                    - /url: /encyclopedia/
                  - button "Expand sidebar category 'Encyclopedia'" [ref=e167] [cursor=pointer]
              - listitem [ref=e168]:
                - link "Glossary" [ref=e169] [cursor=pointer]:
                  - /url: /glossary
          - button "Collapse sidebar" [ref=e170] [cursor=pointer]:
            - img [ref=e171]
      - main [ref=e175]:
        - generic [ref=e177]:
          - generic [ref=e179]:
            - article [ref=e180]:
              - navigation "Breadcrumbs" [ref=e181]:
                - list [ref=e182]:
                  - listitem [ref=e183]:
                    - link "Home page" [ref=e184] [cursor=pointer]:
                      - /url: /
                      - img [ref=e185]
                  - listitem [ref=e187]:
                    - link "Best Practices" [ref=e188] [cursor=pointer]:
                      - /url: /best-practices/
                  - listitem [ref=e189]:
                    - generic [ref=e190]: Worker Deployment and Performance
              - generic [ref=e191]:
                - heading "Worker deployment and performance" [level=1] [ref=e193]
                - paragraph [ref=e194]: This document outlines best practices for deploying and optimizing Workers to ensure high performance, reliability, and scalability. It covers deployment strategies, scaling techniques, tuning recommendations, and monitoring approaches to help you get the most out of your Temporal Workers.
                - paragraph [ref=e195]:
                  - text: We also provide a reference application, the Order Management System (OMS), that demonstrates the deployment best practices in action. You can find the OMS codebase on
                  - link "GitHub" [ref=e196] [cursor=pointer]:
                    - /url: https://github.com/temporalio/reference-app-orders-go/tree/main/docs
                  - text: .
                - heading "Quick checklistDirect link to Quick checklist" [level=2] [ref=e197]:
                  - text: Quick checklist
                  - link "Direct link to Quick checklist" [ref=e198] [cursor=pointer]:
                    - /url: "#quick-checklist"
                    - text: "#"
                - paragraph [ref=e199]: Designing a comprehensive Worker deployment strategy to optimize production performance involves many considerations. We provide a quick checklist to help you get started. Before deploying Workers to production, ensure you address the following. Follow the links to the relevant sections for more details.
                - list [ref=e200]:
                  - listitem [ref=e201]:
                    - strong [ref=e202]:
                      - link "Configure each Worker appropriately" [ref=e203] [cursor=pointer]:
                        - /url: "#actively-tune-worker-options-instead-of-relying-on-defaults"
                    - text: ": Actively tune Worker options based on your code, language runtime limits, and system resource constraints. Don't rely on defaults, which are designed for ease in development and testing, but not optimal for production environments."
                  - listitem [ref=e204]:
                    - strong [ref=e205]:
                      - link "Deploy enough Workers" [ref=e206] [cursor=pointer]:
                        - /url: "#interpret-metrics-as-a-whole"
                    - text: ": Monitor performance metrics and scale Workers to meet your workload requirements."
                  - listitem [ref=e207]:
                    - strong [ref=e208]:
                      - link "Separate Task Queues logically" [ref=e209] [cursor=pointer]:
                        - /url: "#separate-task-queues-logically"
                    - text: ": Size and split work across Task types (Activities and Workflows) and Task Queues based on workload characteristics."
                  - listitem [ref=e210]:
                    - strong [ref=e211]:
                      - link "Version Workers for safe deployments" [ref=e212] [cursor=pointer]:
                        - /url: "#use-worker-versioning-to-safely-deploy-new-workflow-code"
                    - text: ": Ensure you can deploy new Workflow code without breaking running Executions."
                  - listitem [ref=e213]:
                    - strong [ref=e214]: Run benchmarks
                    - text: ": Test your configuration under realistic load to confirm limits and settings are appropriate for your environment."
                - heading "Deployment and lifecycle managementDirect link to Deployment and lifecycle management" [level=2] [ref=e215]:
                  - text: Deployment and lifecycle management
                  - link "Direct link to Deployment and lifecycle management" [ref=e216] [cursor=pointer]:
                    - /url: "#deployment-and-lifecycle-management"
                    - text: "#"
                - paragraph [ref=e217]: Well-designed Worker deployment ensures resilience, observability, and maintainability. A Worker should be treated as a long-running service that can be deployed, upgraded, and scaled in a controlled way.
                - heading "Package and configure Workers for flexibilityDirect link to Package and configure Workers for flexibility" [level=3] [ref=e218]:
                  - text: Package and configure Workers for flexibility
                  - link "Direct link to Package and configure Workers for flexibility" [ref=e219] [cursor=pointer]:
                    - /url: "#package-and-configure-workers-for-flexibility"
                    - text: "#"
                - paragraph [ref=e220]: Workers should be artifacts produced by a CI/CD pipeline. Inject all required parameters for connecting to Temporal Cloud or a self-hosted Temporal Service at runtime via environment variables, configuration files, or command-line parameters. This allows for more granularity, easier testability, easier upgrades, scalability, and isolation of Workers.
                - paragraph [ref=e221]: "In the order management reference app, Workers are packaged as Docker images with configuration provided via environment variables and mounted configuration files. The following Dockerfile uses a multi-stage build to create a minimal, production-ready Worker image:"
                - paragraph [ref=e222]:
                  - link "Dockerfile" [ref=e223] [cursor=pointer]:
                    - /url: https://github.com/temporalio/reference-app-orders-go/blob/main/Dockerfile
                - generic [ref=e225]:
                  - code [ref=e227]:
                    - generic [ref=e228]: FROM golang:1.24.1 AS oms-builder
                    - generic [ref=e229]: WORKDIR /usr/src/oms
                    - generic [ref=e230]: COPY go.mod go.sum ./
                    - generic [ref=e231]: RUN --mount=type=cache,target=/go/pkg/mod \
                    - generic [ref=e232]: "--mount=type=cache,target=/root/.cache/go-build \\"
                    - generic [ref=e233]: go mod download
                    - generic [ref=e234]: COPY app ./app
                    - generic [ref=e235]: COPY cmd ./cmd
                    - generic [ref=e236]: RUN --mount=type=cache,target=/go/pkg/mod \
                    - generic [ref=e237]: "--mount=type=cache,target=/root/.cache/go-build \\"
                    - generic [ref=e238]: CGO_ENABLED=0 go build -v -o /usr/local/bin/oms ./cmd/oms
                    - generic [ref=e239]: FROM busybox AS oms-worker
                  - button "Copy code to clipboard" [ref=e241] [cursor=pointer]:
                    - generic [ref=e242]:
                      - img [ref=e243]
                      - img [ref=e245]
                - paragraph [ref=e247]: "This Dockerfile uses a multi-stage build pattern with two stages:"
                - list [ref=e248]:
                  - listitem [ref=e249]:
                    - paragraph [ref=e250]:
                      - code [ref=e251]: oms-builder
                      - text: "stage: compiles the Worker binary."
                    - list [ref=e252]:
                      - listitem [ref=e253]: Copies dependency files and downloads dependencies using BuildKit cache mounts to speed up subsequent builds.
                      - listitem [ref=e254]: Copies the application code and builds a statically linked binary that doesn't require external libraries at runtime.
                  - listitem [ref=e255]:
                    - paragraph [ref=e256]:
                      - code [ref=e257]: oms-worker
                      - text: "stage: creates a minimal final image."
                    - list [ref=e258]:
                      - listitem [ref=e259]:
                        - text: Copies only the compiled binary from the
                        - code [ref=e260]: oms-builder
                        - text: stage.
                      - listitem [ref=e261]: Sets the entrypoint to run the Worker process.
                - paragraph [ref=e262]:
                  - text: The entrypoint
                  - code [ref=e263]: oms worker
                  - text: starts the Worker process, which reads configuration from environment variables at runtime. For example, the
                  - link "Billing Worker deployment in Kubernetes" [ref=e264] [cursor=pointer]:
                    - /url: https://github.com/temporalio/reference-app-orders-go/blob/main/deployments/k8s/billing-worker-deployment.yaml
                  - text: "uses environment variables to configure the Worker:"
                - paragraph [ref=e265]:
                  - link "deployments/k8s/billing-worker-deployment.yaml" [ref=e266] [cursor=pointer]:
                    - /url: https://github.com/temporalio/reference-app-orders-go/blob/main/deployments/k8s/billing-worker-deployment.yaml
                - generic [ref=e268]:
                  - code [ref=e270]:
                    - generic [ref=e271]: "# ..."
                    - generic [ref=e272]: "spec:"
                    - generic [ref=e273]: "containers:"
                    - generic [ref=e274]: "- args:"
                    - generic [ref=e275]: "- -k"
                    - generic [ref=e276]: "- supersecretkey"
                    - generic [ref=e277]: "- -s"
                    - generic [ref=e278]: "- billing"
                    - generic [ref=e279]: "env:"
                    - generic [ref=e280]: "- name: FRAUD_API_URL"
                    - generic [ref=e281]: "value: http://billing-api:8084"
                    - generic [ref=e282]: "- name: TEMPORAL_ADDRESS"
                    - generic [ref=e283]: "value: temporal-frontend.temporal:7233"
                    - generic [ref=e284]: "image: ghcr.io/temporalio/reference-app-orders-go-worker:latest"
                    - generic [ref=e285]: "name: billing-worker"
                    - generic [ref=e286]: "imagePullPolicy: Always"
                    - generic [ref=e287]: "enableServiceLinks: false"
                  - button "Copy code to clipboard" [ref=e289] [cursor=pointer]:
                    - generic [ref=e290]:
                      - img [ref=e291]
                      - img [ref=e293]
                - heading "Separate Task Queues logicallyDirect link to Separate Task Queues logically" [level=3] [ref=e295]:
                  - text: Separate Task Queues logically
                  - link "Direct link to Separate Task Queues logically" [ref=e296] [cursor=pointer]:
                    - /url: "#separate-task-queues-logically"
                    - text: "#"
                - paragraph [ref=e297]: Use separate Task Queues for distinct workloads. This isolation allows you to control rate limiting, prioritize certain workloads, and prevent one workload from starving another. For each Task Queue, ensure you configure at least two Workers to poll the Task Queue.
                - paragraph [ref=e298]:
                  - text: In the order management reference app, each microservice has its own Task Queue. For example, the Billing Worker polls the
                  - code [ref=e299]: billing
                  - text: Task Queue, while the Order Worker polls the
                  - code [ref=e300]: order
                  - text: Task Queue. This separation allows each service to scale independently based on its workload.
                - generic [ref=e301]:
                  - img "Diagram showing separate Task Queues for different Workers" [ref=e302]
                  - paragraph [ref=e303]: Diagram showing separate Task Queues for different Workers
                - paragraph [ref=e304]:
                  - text: The following code snippet shows how the Billing Worker is set up to poll its Task Queue. The default value for
                  - code [ref=e305]: TaskQueue
                  - text: is a constant defined in the
                  - code [ref=e306]: api.go
                  - text: configuration file and is set to
                  - code [ref=e307]: billing
                  - text: .
                - paragraph [ref=e308]: Since Task Queues are created dynamically when first used, a mismatch between the Client and Worker Task Queue names does not result in an error. Instead, it creates two different Task Queues, and the Worker never receives Tasks from the Temporal Service because it's polling the wrong queue. Define the Task Queue name as a constant that both the Client and Worker reference to avoid this issue.
                - paragraph [ref=e309]:
                  - link "app/billing/worker.go" [ref=e310] [cursor=pointer]:
                    - /url: https://github.com/temporalio/reference-app-orders-go/blob/main/app/billing/worker.go
                - generic [ref=e312]:
                  - code [ref=e314]:
                    - generic [ref=e315]: // ...
                    - generic [ref=e316]: // RunWorker runs a Workflow and Activity worker for the Billing system.
                    - generic [ref=e317]: "func RunWorker(ctx context.Context, config config.AppConfig, client client.Client) error {"
                    - generic [ref=e318]: "w := worker.New(client, TaskQueue, worker.Options{"
                    - generic [ref=e319]: "MaxConcurrentWorkflowTaskPollers: 8,"
                    - generic [ref=e320]: "MaxConcurrentActivityTaskPollers: 8,"
                    - generic [ref=e321]: "})"
                    - generic [ref=e322]: w.RegisterWorkflow(Charge)
                    - generic [ref=e323]: "w.RegisterActivity(&Activities{FraudCheckURL: config.FraudURL})"
                    - generic [ref=e324]: return w.Run(temporalutil.WorkerInterruptFromContext(ctx))
                    - generic [ref=e325]: "}"
                  - generic [ref=e326]:
                    - button "Toggle word wrap" [ref=e327] [cursor=pointer]:
                      - img [ref=e328]
                    - button "Copy code to clipboard" [ref=e330] [cursor=pointer]:
                      - generic [ref=e331]:
                        - img [ref=e332]
                        - img [ref=e334]
                - heading "Use Worker Versioning to safely deploy new Workflow codeDirect link to Use Worker Versioning to safely deploy new Workflow code" [level=3] [ref=e336]:
                  - text: Use Worker Versioning to safely deploy new Workflow code
                  - link "Direct link to Use Worker Versioning to safely deploy new Workflow code" [ref=e337] [cursor=pointer]:
                    - /url: "#use-worker-versioning-to-safely-deploy-new-workflow-code"
                    - text: "#"
                - paragraph [ref=e338]: Use Worker Versioning to deploy new Workflow code without breaking running Executions. Worker Versioning lets you map each Workflow Execution to a specific Worker Deployment Version identified by a build ID, which guarantees that pinned Workflows always run on the same Worker version where they started.
                - paragraph [ref=e339]:
                  - text: To learn more about versioning Workflows, see the
                  - link "Workflow Versioning" [ref=e340] [cursor=pointer]:
                    - /url: /production-deployment/worker-deployments/worker-versioning
                  - text: guide or take our
                  - link "Worker Versioning course" [ref=e341] [cursor=pointer]:
                    - /url: https://learn.temporal.io/courses/worker_versioning/
                  - text: .
                - generic [ref=e342]:
                  - generic [ref=e343]:
                    - img [ref=e345]
                    - text: tip
                  - paragraph [ref=e348]:
                    - text: In addition to Worker Versioning, you can also use
                    - link "Patching" [ref=e349] [cursor=pointer]:
                      - /url: /patching
                    - text: to introduce changes to your Workflow code without breaking running Executions. Patching reduces complexity on the infrastructure side compared to Worker Versioning, but it introduces some complexity on the Workflow code side. Choose the approach that best fits your needs.
                - heading "Manage Event History growthDirect link to Manage Event History growth" [level=3] [ref=e350]:
                  - text: Manage Event History growth
                  - link "Direct link to Manage Event History growth" [ref=e351] [cursor=pointer]:
                    - /url: "#manage-event-history-growth"
                    - text: "#"
                - paragraph [ref=e352]: If a Worker goes offline and another Worker picks up the same Workflow Execution, the new Worker must replay the existing Event History to resume the Workflow Execution. If the Event History is too large or has too many Events, replay affects the performance of the new Worker and may even cause timeout errors well before the hard limit of 51,200 Events is reached.
                - paragraph [ref=e353]:
                  - text: We recommend not exceeding a few thousand Events in a single Workflow Execution. The best way to handle Event History growth is to use the
                  - link "Continue-As-New" [ref=e354] [cursor=pointer]:
                    - /url: /workflow-execution/continue-as-new
                  - text: mechanism to continue under a new Workflow Execution with a new Event History, repeating this process as you approach the limits again.
                - paragraph [ref=e355]:
                  - text: All Temporal SDKs provide functions to suggest when to use
                  - link "Continue-As-New" [ref=e356] [cursor=pointer]:
                    - /url: /workflow-execution/continue-as-new
                  - text: . For example, the Python SDK has the
                  - link "is_continue_as_new_suggested()" [ref=e357] [cursor=pointer]:
                    - /url: https://python.temporal.io/temporalio.workflow.Info.html#is_continue_as_new_suggested
                    - code [ref=e358]: is_continue_as_new_suggested()
                  - text: function that returns a
                  - code [ref=e359]: bool
                  - text: indicating whether to use Continue-As-New.
                - paragraph [ref=e360]: In addition to the number of Events, monitor the size of the Event History. Input parameters and output values of both Workflows and Activities are stored in the Event History. Storing large amounts of data can lead to performance problems, so the Temporal Cluster limits both the size of individual payloads and the total Event History size. A Workflow Execution may be terminated if any single payload exceeds 2 MB or if the entire Event History exceeds 50 MB.
                - paragraph [ref=e361]:
                  - text: To avoid hitting these limits, avoid passing large amounts of data into and out of Workflows and Activities. A common way to reduce payload and Event History size is the
                  - link "Claim Check" [ref=e362] [cursor=pointer]:
                    - /url: https://dataengineering.wiki/Concepts/Software+Engineering/Claim+Check+Pattern
                  - text: "pattern, widely used with messaging systems such as Apache Kafka. Instead of passing large data into your function, store that data external to Temporal in a database or file system. Pass an identifier for the data, such as a primary key or path, into the function and use an Activity to retrieve it as needed. If your Activity produces large output, use a similar approach: write the data to an external system and return an identifier that can be used to retrieve it later."
                - heading "Scaling, monitoring, and tuningDirect link to Scaling, monitoring, and tuning" [level=2] [ref=e363]:
                  - text: Scaling, monitoring, and tuning
                  - link "Direct link to Scaling, monitoring, and tuning" [ref=e364] [cursor=pointer]:
                    - /url: "#scaling-monitoring-and-tuning"
                    - text: "#"
                - paragraph [ref=e365]: Scaling and tuning are critical to Worker performance and cost efficiency. The goal is to balance concurrency, throughput, and resource utilization while maintaining low Task latency.
                - heading "Actively tune Worker options instead of relying on defaultsDirect link to Actively tune Worker options instead of relying on defaults" [level=3] [ref=e366]:
                  - text: Actively tune Worker options instead of relying on defaults
                  - link "Direct link to Actively tune Worker options instead of relying on defaults" [ref=e367] [cursor=pointer]:
                    - /url: "#actively-tune-worker-options-instead-of-relying-on-defaults"
                    - text: "#"
                - paragraph [ref=e368]: Default Worker settings are designed to work across a wide range of use cases primarily for ease in development and testing. In production environments, your Workflow complexity, Activity duration, payload sizes, and infrastructure constraints all influence optimal Worker configuration. Actively tuning your Workers ensures they perform well under your specific workload conditions.
                - paragraph [ref=e369]: "To get started, focus on these key Worker options:"
                - list [ref=e370]:
                  - listitem [ref=e371]:
                    - strong [ref=e372]: Task slots
                    - text: ": Limits how many Tasks execute concurrently. Set based on your Worker's CPU, memory, and the resource demands of your code. You can choose different types of Slot Suppliers or implement a custom Slot Supplier to control how Task slots are assigned to different Task types. Refer to"
                    - link "Slot Suppliers" [ref=e373] [cursor=pointer]:
                      - /url: /develop/worker-performance#slot-suppliers
                    - text: for more details.
                  - listitem [ref=e374]:
                    - strong [ref=e375]: Sticky cache size
                    - text: ": Controls the size of the sticky cache for Workflow Executions. Larger caches reduce replay overhead but consume more memory. Refer to"
                    - link "Workflow Cache Tuning" [ref=e376] [cursor=pointer]:
                      - /url: /develop/worker-performance#workflow-cache-tuning
                    - text: for more details.
                  - listitem [ref=e377]:
                    - strong [ref=e378]: Poller counts
                    - text: ": Controls the number of pollers for Tasks. We recommend you use the Poller Autoscaling feature to automatically adjust the number of pollers based on your workload. Refer to"
                    - link "Configuring Poller Options" [ref=e379] [cursor=pointer]:
                      - /url: /develop/worker-performance#configuring-poller-options
                    - text: for more details.
                - paragraph [ref=e380]:
                  - text: Use the metrics listed in
                  - link "Interpret metrics as a whole" [ref=e381] [cursor=pointer]:
                    - /url: "#interpret-metrics-as-a-whole"
                  - text: to guide your tuning decisions.
                - heading "Interpret metrics as a wholeDirect link to Interpret metrics as a whole" [level=3] [ref=e382]:
                  - text: Interpret metrics as a whole
                  - link "Direct link to Interpret metrics as a whole" [ref=e383] [cursor=pointer]:
                    - /url: "#interpret-metrics-as-a-whole"
                    - text: "#"
                - paragraph [ref=e384]: No single metric tells the full story. The following are some of the most useful Worker-related metrics to monitor. We recommend having all metrics listed below on your Worker monitoring dashboard. When you observe anomalies, correlate across multiple metrics to identify root causes.
                - list [ref=e385]:
                  - listitem [ref=e386]: Worker CPU and memory utilization
                  - listitem [ref=e387]:
                    - code [ref=e388]: workflow_task_schedule_to_start_latency
                    - text: and
                    - code [ref=e389]: activity_task_schedule_to_start_latency
                  - listitem [ref=e390]:
                    - code [ref=e391]: worker_task_slots_available
                  - listitem [ref=e392]:
                    - code [ref=e393]: temporal_long_request_failure
                    - text: ","
                    - code [ref=e394]: temporal_request_failure
                    - text: ","
                    - code [ref=e395]: temporal_long_request_latency
                    - text: ", and"
                    - code [ref=e396]: temporal_request_latency
                - paragraph [ref=e397]: "For example, Schedule-to-Start latency measures how long a Task waits in the queue before a Worker starts it. High latency means your Workers or pollers can’t keep up with incoming Tasks, but the root cause depends on your resource metrics:"
                - list [ref=e398]:
                  - listitem [ref=e399]:
                    - text: "High Schedule-to-Start latency and high CPU/memory: Workers are saturated. Scale up your Workers or add more Workers. It's also possible your Workers are blocked on Activities. Refer to"
                    - link "Troubleshooting - Depletion of Activity Task Slots" [ref=e400] [cursor=pointer]:
                      - /url: /troubleshooting/performance-bottlenecks#depletion-of-temporal_worker_task_slots_available-for-activityworker
                    - text: for guidance.
                  - listitem [ref=e401]:
                    - text: "High Schedule-to-Start latency and low CPU/memory: Workers are underutilized. Increase the number of pollers, executor slots, or both. If this is accompanied by high"
                    - code [ref=e402]: temporal_long_request_latency
                    - text: or
                    - code [ref=e403]: temporal_long_request_failure
                    - text: ", your Workers are struggling to reach the Temporal Service. Refer to"
                    - link "Troubleshooting - Long Request Latency" [ref=e404] [cursor=pointer]:
                      - /url: /troubleshooting/performance-bottlenecks#high-temporal_long_request_failure
                    - text: for guidance.
                  - listitem [ref=e405]: "Low Schedule-to-Start latency and low CPU/memory: Depending on your workload, this could be normal. If you are consistently seeing low memory usage and low CPU usage, you may be over-provisioning your Workers and can consider scaling down."
                - paragraph [ref=e406]:
                  - text: Refer to
                  - link "Intro to Worker Tuning" [ref=e407] [cursor=pointer]:
                    - /url: https://temporal.io/blog/an-introduction-to-worker-tuning
                  - text: for more details and examples on how to interpret Worker metrics.
                - heading "Optimize Worker cacheDirect link to Optimize Worker cache" [level=3] [ref=e408]:
                  - text: Optimize Worker cache
                  - link "Direct link to Optimize Worker cache" [ref=e409] [cursor=pointer]:
                    - /url: "#optimize-worker-cache"
                    - text: "#"
                - paragraph [ref=e410]:
                  - text: Workers keep a cache of Workflow Executions to improve performance by reducing replay overhead. However, larger caches consume more memory. The
                  - code [ref=e411]: temporal_sticky_cache_size
                  - text: tracks the size of the cache. If you observe high memory usage for your Workers and high
                  - code [ref=e412]: temporal_sticky_cache_size
                  - text: ", you can be reasonably sure the cache is contributing to memory pressure."
                - paragraph [ref=e413]:
                  - text: Having a high
                  - code [ref=e414]: temporal_sticky_cache_size
                  - text: by itself isn't necessarily an issue, but if your Workers are memory-bound, consider reducing the cache size to allow more concurrent executions. We recommend you experiment with different cache sizes in a staging environment to find the optimal setting for your Workflows. Refer to
                  - link "Troubleshooting - Caching" [ref=e415] [cursor=pointer]:
                    - /url: /troubleshooting/performance-bottlenecks#caching
                  - text: for more details on how to interpret the different cache-related metrics.
                - heading "Manage scale-down safelyDirect link to Manage scale-down safely" [level=3] [ref=e416]:
                  - text: Manage scale-down safely
                  - link "Direct link to Manage scale-down safely" [ref=e417] [cursor=pointer]:
                    - /url: "#manage-scale-down-safely"
                    - text: "#"
                - paragraph [ref=e418]: Before shutting down a Worker, verify that it does not have too many active Tasks. This is especially relevant if your Workers are handling long-running, expensive Activities.
                - paragraph [ref=e419]:
                  - text: If
                  - code [ref=e420]: worker_task_slots_available
                  - text: is at or near zero, the Worker is running active Tasks. Shutting it down could trigger expensive retries or timeouts for long-running Activities. Use
                  - link "Graceful Shutdowns" [ref=e421] [cursor=pointer]:
                    - /url: /encyclopedia/workers/worker-shutdown#graceful-shutdown
                  - text: to allow the Worker to complete its current Tasks before shutting down. All SDKs provide a way to configure Graceful Shutdowns. For example, the Go SDK has the
                  - link "WorkerStopTimeout option" [ref=e422] [cursor=pointer]:
                    - /url: https://pkg.go.dev/go.temporal.io/sdk@v1.38.0/internal#WorkerOptions
                    - code [ref=e423]: WorkerStopTimeout
                    - text: option
                  - text: that lets you configure how long the Worker has to complete its current Tasks before shutting down.
              - generic [ref=e424]:
                - generic [ref=e426]:
                  - text: "Tags:"
                  - list [ref=e427]:
                    - listitem [ref=e428]:
                      - link "Best Practices" [ref=e429] [cursor=pointer]:
                        - /url: /tags/best-practices
                    - listitem [ref=e430]:
                      - link "Workers" [ref=e431] [cursor=pointer]:
                        - /url: /tags/workers
                - paragraph [ref=e435]:
                  - text: Help us make Temporal better. Contribute to our
                  - link "documentation" [ref=e436] [cursor=pointer]:
                    - /url: https://github.com/temporalio/documentation
                  - text: .
            - navigation "Docs pages" [ref=e438]:
              - link "Previous « Security Controls for Cloud" [ref=e439] [cursor=pointer]:
                - /url: /best-practices/security-controls
                - generic [ref=e440]: Previous
                - generic [ref=e441]: « Security Controls for Cloud
              - link "Next Encyclopedia »" [ref=e442] [cursor=pointer]:
                - /url: /encyclopedia/
                - generic [ref=e443]: Next
                - generic [ref=e444]: Encyclopedia »
          - list [ref=e447]:
            - listitem [ref=e448]:
              - link "Quick checklist" [ref=e449] [cursor=pointer]:
                - /url: "#quick-checklist"
            - listitem [ref=e450]:
              - link "Deployment and lifecycle management" [ref=e451] [cursor=pointer]:
                - /url: "#deployment-and-lifecycle-management"
              - list [ref=e452]:
                - listitem [ref=e453]:
                  - link "Package and configure Workers for flexibility" [ref=e454] [cursor=pointer]:
                    - /url: "#package-and-configure-workers-for-flexibility"
                - listitem [ref=e455]:
                  - link "Separate Task Queues logically" [ref=e456] [cursor=pointer]:
                    - /url: "#separate-task-queues-logically"
                - listitem [ref=e457]:
                  - link "Use Worker Versioning to safely deploy new Workflow code" [ref=e458] [cursor=pointer]:
                    - /url: "#use-worker-versioning-to-safely-deploy-new-workflow-code"
                - listitem [ref=e459]:
                  - link "Manage Event History growth" [ref=e460] [cursor=pointer]:
                    - /url: "#manage-event-history-growth"
            - listitem [ref=e461]:
              - link "Scaling, monitoring, and tuning" [ref=e462] [cursor=pointer]:
                - /url: "#scaling-monitoring-and-tuning"
              - list [ref=e463]:
                - listitem [ref=e464]:
                  - link "Actively tune Worker options instead of relying on defaults" [ref=e465] [cursor=pointer]:
                    - /url: "#actively-tune-worker-options-instead-of-relying-on-defaults"
                - listitem [ref=e466]:
                  - link "Interpret metrics as a whole" [ref=e467] [cursor=pointer]:
                    - /url: "#interpret-metrics-as-a-whole"
                - listitem [ref=e468]:
                  - link "Optimize Worker cache" [ref=e469] [cursor=pointer]:
                    - /url: "#optimize-worker-cache"
                - listitem [ref=e470]:
                  - link "Manage scale-down safely" [ref=e471] [cursor=pointer]:
                    - /url: "#manage-scale-down-safely"
    - contentinfo [ref=e472]:
      - generic [ref=e473]:
        - generic [ref=e474]:
          - list [ref=e476]:
            - listitem [ref=e477]:
              - link "GitHub" [ref=e478] [cursor=pointer]:
                - /url: https://github.com/temporalio
                - text: GitHub
                - img [ref=e479]
            - listitem [ref=e481]:
              - link "Twitter" [ref=e482] [cursor=pointer]:
                - /url: https://twitter.com/temporalio
                - text: Twitter
                - img [ref=e483]
            - listitem [ref=e485]:
              - link "YouTube" [ref=e486] [cursor=pointer]:
                - /url: https://www.youtube.com/c/Temporalio
                - text: YouTube
                - img [ref=e487]
            - listitem [ref=e489]:
              - link "About the docs" [ref=e490] [cursor=pointer]:
                - /url: https://github.com/temporalio/documentation/blob/master/README.md
                - text: About the docs
                - img [ref=e491]
          - list [ref=e494]:
            - listitem [ref=e495]:
              - link "Temporal Cloud" [ref=e496] [cursor=pointer]:
                - /url: https://temporal.io/cloud
                - text: Temporal Cloud
                - img [ref=e497]
            - listitem [ref=e499]:
              - link "Meetups" [ref=e500] [cursor=pointer]:
                - /url: https://temporal.io/community#events
                - text: Meetups
                - img [ref=e501]
            - listitem [ref=e503]:
              - link "Workshops" [ref=e504] [cursor=pointer]:
                - /url: https://temporal.io/community#workshops
                - text: Workshops
                - img [ref=e505]
            - listitem [ref=e507]:
              - link "Support forum" [ref=e508] [cursor=pointer]:
                - /url: https://community.temporal.io/
                - text: Support forum
                - img [ref=e509]
            - listitem [ref=e511]:
              - link "Ask an expert" [ref=e512] [cursor=pointer]:
                - /url: https://pages.temporal.io/ask-an-expert
                - text: Ask an expert
                - img [ref=e513]
          - list [ref=e516]:
            - listitem [ref=e517]:
              - link "Learn Temporal" [ref=e518] [cursor=pointer]:
                - /url: https://learn.temporal.io
                - text: Learn Temporal
                - img [ref=e519]
            - listitem [ref=e521]:
              - link "Blog" [ref=e522] [cursor=pointer]:
                - /url: https://temporal.io/blog
                - text: Blog
                - img [ref=e523]
            - listitem [ref=e525]:
              - link "Use cases" [ref=e526] [cursor=pointer]:
                - /url: https://temporal.io/use-cases
                - text: Use cases
                - img [ref=e527]
            - listitem [ref=e529]:
              - link "Newsletter signup" [ref=e530] [cursor=pointer]:
                - /url: https://pages.temporal.io/newsletter-subscribe
                - text: Newsletter signup
                - img [ref=e531]
          - list [ref=e534]:
            - listitem [ref=e535]:
              - link "Security" [ref=e536] [cursor=pointer]:
                - /url: /security
            - listitem [ref=e537]:
              - link "Privacy policy" [ref=e538] [cursor=pointer]:
                - /url: https://temporal.io/global-privacy-policy
            - listitem [ref=e539]:
              - link "Terms of service" [ref=e540] [cursor=pointer]:
                - /url: https://docs.temporal.io/pdf/temporal-tos-2021-07-24.pdf
                - text: Terms of service
                - img [ref=e541]
            - listitem [ref=e543]:
              - link "We're hiring" [ref=e544] [cursor=pointer]:
                - /url: https://temporal.io/careers
                - text: We're hiring
                - img [ref=e545]
        - generic [ref=e547]:
          - link "Temporal logo" [ref=e549] [cursor=pointer]:
            - /url: https://temporal.io
            - img "Temporal logo" [ref=e550]
          - generic [ref=e551]: Copyright © 2025 Temporal Technologies Inc.
  - generic [ref=e552] [cursor=pointer]:
    - img [ref=e554]
    - generic: Feedback
```