# Temporal documentation

Hello World!

Welcome to the Temporal Platform's documentation repository!

**Table of contents**

- [What is the goal of this README?](#what-is-the-goal-of-this-readme)
  - [What do we mean by the “Temporal Platform information corpus”?](#what-do-we-mean-by-the-temporal-platform-information-corpus)
- [What is in this repository?](#what-is-in-this-repository)
  - [`/docs-src` Markdown “source-of-truth” Information nodes](#docs-src-markdown-source-of-truth-information-nodes)
  - [`/docs` Markdown files for Docusaurus](#docs-markdown-files-for-docusaurus)
  - [`/assembly` Assembly Workflow](#assembly-assembly-workflow)
  - [Snipsync code synchronization tooling](#snipsync-code-synchronization-tooling)
  - [`/changelog` Docs site changelog](#changelog-docs-site-changelog)
- [How to get approval to put up a Pull Request](#how-to-get-approval-to-put-up-a-pull-request)
- [How to fix a typo](#how-to-fix-a-typo)
- [How to make changes to this repository](#how-to-make-changes-to-this-repository)
  - [How to install the dependencies for this repo](#how-to-install-the-dependencies-for-this-repo)
  - [How to follow style guidance](#how-to-follow-style-guidance)
  - [What is the philosophy around versioning the documentation?](#what-is-the-philosophy-around-versioning-the-document)
  - [How to explicitly identify support, stability, and dependency info](#how-to-explicitly-identify-support-stability-and-dependency-info)
  - [How to auto format files](#how-auto-format-files)
  - [How to run the Assembly Workflow](#how-to-run-the-assembly-workflow)
  - [How to create a new guide configuration](#how-to-create-a-new-guide-configuration)
  - [How to use DACX](#how-to-use-dacx)
- [Local development command reference](#local-development-command-reference)
  - [`yarn`](#yarn)
  - [`yarn build`](#yarn-build)
  - [`yarn start`](#yarn-start)
  - [`yarn assemble`]
    - [`--cloud`](#--cloud)
    - [`--samples`](#--samples)
  - [`yarn format`](#yarn-format)
  - [`yarn snipsync](#yarn-snipsync)
    - [`--clear`](#--clear)

## What is the goal of this README?

The goal of this README is to empower contribution to the Temporal Platform information corpus, specifically docs.temporal.io. See [How to make changes to this repository](#how-to-make-changes-to-this-repository).

Maintainers and contributors to this project are expected to conduct themselves in a respectful way. See the [CNCF Community Code of Conduct](https://github.com/cncf/foundation/blob/master/code-of-conduct.md) as a reference.

This repository and all its contents are open-source; The source of this documentation is available to the public for individual and commercial use.

[MIT License](https://github.com/temporalio/documentation/blob/main/LICENSE.md)

### What do we mean by the “Temporal Platform information corpus”?

There is a lot of relevant Temporal Platform information that might not be included in this repository. And this repository does not claim to account for all of that information and the many archetypes that it is presented in.

[Adding to this repository](#how-to-make-changes-to-this-repository) is only way to add to the information corpus.

We plan to offer more ways to add to the corpus.

Consider registering your already published information with Temporal IQ and reach out to us in Slack https://temporalio.slack.com/archives/C05JRT1GKEE.

## What is in this repository?

This repository contains the following:

### `/docs-src` Markdown “source-of-truth” Information nodes

This directory contains all of the Markdown “Information Nodes” that make up the guides that are generated into the `/docs` directory. These nodes are registered with a guide configuration in `/assembly/guide-configs` .

### `/docs` Markdown files for Docusaurus

This directory contains the Markdown files that map directly to what you see in the documentation site. For example, `/docs/concepts/workflows` maps to `[docs.temporal.io/workflows](http://docs.temporal.io/workflows)` .

However, most of these files are generated from `docs-src` Information Nodes based on the guide configurations in `assembly/guide-configs` .

Generated content has this comment at the top of the file, below the meta data:

```html
<!-- THIS FILE IS GENERATED. DO NOT EDIT THIS FILE DIRECTLY -->
```

### `/assembly` Assembly Workflow

This directory contains a Temporal Application written in Javascript using the Temporal TypeScript SDK. This application acts as a build wrapper around the Docusaurus framework and it assembles/generates the Markdown guides in the `/docs` directory.

These generated files are actually put together from many individual files, which we call Information Nodes. These Information Nodes now live in the `docs-src` directory. The reasons for modularizing our information are many, but one of them is that it provides a fun use case for combining our pre-build processes, usually a set of independent scripts, into a Temporal Workflow.

Each JSON configuration file in [assembly/guide-configs](https://github.com/temporalio/documentation/blob/main/assembly/guide-configs) represents a user-facing narrative that pieces together the Information Nodes, such as [Concepts](https://docs.temporal.io/temporal/#) and [the Go SDK dev guide](https://docs.temporal.io/dev-guide/go/).

The Assembly Workflow can be run using a local Cluster (such as [Temporal CLI](https://github.com/temporalio/documentation/blob/main/kb/all-the-ways-to-run-a-cluster#temporal-cli)) or [Temporal Cloud](https://docs.temporal.io/cloud/).

See [How to run the Assembly Workflow](#how-to-run-the-assembly-workflow) for details.

#### DACX Information Node generation tooling

One of the things the Assembly Workflow can do, is generate Information Nodes for documentation code samples repositories.

### `/changelog` Docs site changelog

This directory contains logs of major changes to the documentation.

The information at [docs.temporal.io](http://docs.temporal.io) changes frequently, but bigger and more notable changes over a period of time are often captured and logged there.

### Snipsync code synchronization tooling

This repository has [Snipsync](https://github.com/temporalio/snipsync) installed and checks in the snippets that are merged into the docs.

## How to get approval to put up a Pull Request

We absolutely encourage contributions!

But to save time you must let us know what you plan to change before submitting a Pull Request.

If you aren't part of the temporalio organization, you must file a Github issue https://github.com/temporalio/documentation/issues.

If you are part of the temporalio organization, you must use Temporal’s internal tracking system to submit a Work Task to our team.

You must receive approval from us in both cases before submitting a Pull Request. If you submit a Pull Request without proper approval, we will close it.

## How to fix a typo

**STOP! [Make sure you are eligible to put up a Pull Request!](#how-to-get-approval-to-put-up-a-pr)**

**Once approved, you may follow these steps.**

If you are want broader guidance on making changes to this repo, see the [How to make changes to this repository](#how-to-make-changes-to-this-repository). Otherwise these steps will enable you to fix a piece of content.

```bash
git clone https://github.com/temporalio/documentation
cd documentation
yarn install
git checkout -b yourfix
```

Find the source node in the `docs-src` directory.

Make your changes in the source file.

Run the Assembly Workflow. This means you must have a Worker running in `/assembly`
So in a new terminal,

```bash
cd assembly
yarn install
./worker.js
```

Then run the WF from the root of the repo

```bash
yarn assemble
```

Format all the files

```bash
yarn format
```

Put up your changes

```bash
git add . && git commit -m "change deets"
git push origin yourfix
```

## How to make changes to this repository

**STOP! [Make sure you are eligible to put up a Pull Request!](#how-to-get-approval-to-put-up-a-pr)**

**Once approved, you may follow these steps.**

If you are looking for the quick way to fix a typo, check out the “[How to fix a typo](#how-to-fix-a-typo)” section.

Otherwise, the following steps provide a much higher level view of the steps to making changes. Particularly if you plan on embedding sourced code snippets or generating information nodes.

1. Clone the repo.
2. [Install the dependencies](#install-the-dependencies).
3. Make changes to the information nodes in `docs-src` & guide configurations in `assemble/guide-configs` while [following our style guidance](#how-to-follow-style-guidance).
   1. See [How to construct a guide config](#how-to-construct-a-guide-config).
   2. See [How to use DACX](#how-to-use-dacx).
   3. See [How to use SnipSync](#how-to-use-snipsync).
4. [Run the Assembly Workflow](#how-to-run-the-assembly-workflow).
5. [Format the files](#how-to-auto-format-the-files).
6. [Put up a Pull Request](#how-to-put-up-a-pull-request).

### How to install the dependencies for this repo

Make sure NodeJS is installed. We recommend using a version newer than [Node.js](https://nodejs.org/en/download/). 18.0.0. (On a Mac, use the command `brew install node@16`)

Make sure you have [Yarn installed](https://classic.yarnpkg.com/lang/en/docs/install/#mac-stable).

In the root of the repo run `yarn`. This installs the Docusaurus framework packages and the other packages that help generate the `build` output.

Change directory into `assembly` and run `yarn` there as well. This installs the Assembly Workflow dependencies that generates information nodes and generates the guides into `/docs` .

### How to follow style guidance

In general, Temporal content follows the [Google developer documentation style guide](https://developers.google.com/style). When the Google guide is silent about an issue, we follow the [Microsoft Writing Style Guide](https://docs.microsoft.com/en-us/style-guide/welcome/). And we also maintain a set of Temporal-specific style guidelines that override the Google and Microsoft guides defined below.

But we recommend that you use the Vale extension for your IDE and follow the suggestions.

If you have VSCode, we recommend the Vale VSCode extension.

For details on the styles, see the rulesets defined in the `vale/styles` configuration.

#### Capitalization of core terms

Many of Temporal's core terms can be used in a generic way.

To differentiate one of Temporal's core terms from a generic instance of a term, always treat the Temporal term as a proper noun in documentation.

Generic versions of the same term should not be capitalized and should be used sparingly to avoid confusion.

- Correct: "Next, register the Activity within the Workflow."

- Incorrect: "Next, register the activity within the workflow."

#### Abbreviation of "identifier"

In text, do not abbreviate the word "identifier" as "ID", "Id", or "id" unless it is part of a Temporal core term, such as "Workflow Id" or "Activity Id".

- Correct: "You can provide an order identifier or customer identifier as a Workflow Id."

- Incorrect: "You can provide an order ID or customer id as a Workflow Id."

In code (and when quoting or referring to code in text), follow the conventions of each language.

#### En dashes in ranges

Using an en dash (`&ndash;` or the character `–`) in a range of numbers is acceptable.
Even better is to use words such as _from_, _to_, and _through_.

#### Be consistent.

If you use an en dash in one range, use en dashes in all ranges.
Do not mix words and en dashes (or hyphens, for that matter).

- Correct: "5 to 10 GB"
- Correct: "5–10 GB"
- Correct: "5-10 GB"
- Incorrect: "from 5-10 GB"

#### Infinitive verb forms in headings

Titles and headings should use infinitive verb forms whenever possible. People tend to search by using infinitive verb forms, so using them helps SEO.

- Correct: "How to install Temporal"
- Incorrect: "Installing Temporal"

#### Infinitive verb forms in labels

- Correct: "Install Temporal"
- Incorrect: "Installing Temporal"

#### Sentence casing in headings

Use sentence casing for titles and headings.
Sentence casing means that only the first letter of the first word and proper nouns are capitalized.

- Correct: "How to get started with Temporal"
- Incorrect: "How To Get Started With Temporal"

### What is the philosophy around versioning the documentation?

The Temporal Platform includes many different components and core dependencies. Each of these components is often independently versioned and documents their stability and support for their own dependencies. For example, the [Temporal Go SDK reference](https://pkg.go.dev/go.temporal.io/sdk?tab=versions) provides that view.

The goal of this information set, in regards to versioning, is to remain “current”. That is, this information should serve the needs of the Platform’s user base as best it can based on what is/has recently happened across all the components of the Temporal Platform.
We should explicitly call out support, stability, and dependency information whenever possible inline with the rest of the information. This contrasts with publishing versions of documentation sets to match the versioned components of the platform.

We use the `ssdi` metadata tag in `docs-src` nodes to explicitly call out support, stability, and dependency information when needed.

#### How to explicitly identify support, stability, and dependency info

Use the `ssdi` metadata tag.

Add this metadata tag to the information node’s metadata tag in the `/docs-src` directory.

Example:

```markdown
---
id: what-is-x
// ...
ssdi:
  - Introduced in [Temporal Server version x.xx.x](/path/to/release/notes/)
  - Available in [Temporal CLI version x.xx.x](/path/to/release/notes/)
  - Released in Temporal Cloud on <date>
---
```

### How to auto format files

Run `yarn format` .

If you do not run this command locally and put up a Pull Request, a Github action runs the formatting.

### How to run the Assembly Workflow

First, you must have a Namespace setup to operate with. We recommend using the [Temporal CLI’s development Server](https://docs.temporal.io/cli/#starting-the-temporal-server). In a separate terminal run:

```bash
temporal server start-dev
```

Then again in a separate terminal, run the Worker in `/assembly`

```bash
cd assembly
./worker.js
```

In another terminal start the Workflow from the root of the repo:

```bash
yarn assemble
```

After the Workflow completes, we recommend running the auto formatter:

```bash
yarn format
```

**TIP**: Make your changes in the **source files** that are named in the configuration file. For example, if you found a typo in the Concept section *What is a Task?*, open [docs/concepts/what-is-a-task.md](https://github.com/temporalio/documentation/blob/main/docs/concepts/what-is-a-task.md) and make the edit directly there.

### How to create a new guide configuration

Guide configurations live in `assembly/guide-configs`.

They are more or less organized to reflect the intended output in the `docs` directory, however this is purely for file management purposes and does not affect where the guide output is written to.

A guide configuration just links the independent nodes together into a guide narrative.
Some of the guide level metadata is supplied directly in the guide configuration, and some of it is generated from the source nodes. For example, the “keywords” and “tags” metadata are generated from the source nodes attached to the config.

Example configuration:

```json
{
  "file_name": "foundations.md", // name of the file that gets written to the docs directory
  "file_dir": "dev-guide/golang", // the directory that the file is written to
  "id": "foundations", // id of the document that is used by Docusaurus
  "slug": "/dev-guide/go/foundations", // slug of the document that is used by Docusaurus - OVERRIDES id + file_dir slug
  "title": "Go SDK developer's guide - Foundations", // title of the published document
  "sidebar_label": "Foundations", // sidebar label of the document
  "sidebar_position": 1, // position of the label in the sidebar
  "description": "The Foundations section of the Temporal Go SDK Developer's guide covers the minimum set of concepts and implementation details needed to build and run a Temporal Application in Go – that is, all the relevant steps to start a Workflow Execution that executes an Activity.", // Published description metadata
  "use_description": false, // uses the description as the first sentence in the generated doc
  "toc_max_heading_level": 4, // sets the maximum toc level for the generated doc
  "add_tabs_support": true, // adds mdx imports to generated doc to support tabs
  "sections": [ // array of sections
    {
      "type": "p", // section type - p sections use the previous heading as an anchor
      "id": "go/foundations" // this is the directory + doc id within docs-src
    },
    {
      "type": "h2", // can go as deep as h4
      "id": "clusters/how-to-install-temporal-cli"
    },
    {
      "type": "h2",
      "id": "go/add-sdk"
    },
    {
      "type": "p",
      "id": "go/how-to-use-the-go-sdk"
    },
    {
      "type": "h3",
      "id": "go/api-reference-go"
    },
    {
      "type": "h3",
      "id": "go/code-samples"
    },
}
```

### How to use DACX

**What is DACX?**

DACX is short for “Docs as code”.
All the logic of the DACX tool is built into the Assembly Workflow.

**Why use DACX?**

1. The tool is similar [Snipsync](https://github.com/temporalio/snipsync), but with DACX you write documentation in the same file as the code. As a code sample developer, you can write the documentation inline with the code and then use the docs Assembly Workflow to generate Markdown guides from those code samples. However, rather than curating the information and code in the Markdown file within the documentation repo like you do with Snipsync, you curate the information within the source code file. As with both tools, you need to work within both repositories to manufacture the end result.

2. DACX provides rich content in multiple places for the next big training event and is suited to meet our long term LLM goals. This is because DACX source files contain parts of the narrative inline with the code and the published guides will put the full narrative together, each complimenting the other. During the next training event, LLMs will consume both DACX source files and the generated guides.

#### Choose a source repo

- Go → https://github.com/temporalio/documentation-samples-go
- Python → https://github.com/temporalio/documentation-samples-python
- Java → TODO
- TypeScript → TODO

#### Or register a new one

The Assembly Workflow needs to know which repos contain DACX files.

Edit `/assembly/config.json` , the [Assembly configuration](https://github.com/temporalio/documentation/blob/main/assembly/config.json) file, to add your repository to the list of `documentation_samples_repos` .

Specify a branch name in the `ref` field if you change has not merged into the main of the source repo.

Example:

```go
{
  "org": "your-org" // for us that temporalio
  "name": "your-repo" // name of the repository
  "ref" : "your-branch-name" // name of your branch - optional
  // if a branch is not specified, main is used
}
```

#### Identify DACX files

In the source repository, identify the DACX files.

Assembly identifies DACX files by the file’s name.

Within your source repo, add `_dacx` to the file name right before the extension.

Do this for every file that contains DACX.

For example, `my_main_workflow_file_dacx.go`.

#### Write documentation using vanilla Markdown

In the source repository, write your documentation as Markdown using multiline comments.

The Assembly Workflow identifies all multiline comments as Markdown documentation.

Single line comments are treated the same as the rest of the code.

Single line commenting is still highly encouraged to make the code understandable.

For example:

```go
/*
This is treated as Markdown documentation.

Format this information as you would like any other Markdown content.

Since Markdown maintains readablibilty, anyone can read this, even when a [link](/somelink) is present.
*/

// MyCode is my code and this is treated the same as the code
func MyCode () error {
 // ...
}
```

#### Use `@dacx` comments to identify info nodes

In the source repository, add `@dacx` to a multiline comment at the bottom of the `_dacx` file.

The comment must be structured exactly like the following:

```go
/* @dacx
id: id-of-resulting-info-node
title: Title of the resulting info node
label: Info node label (often becomes the anchor if node is used as a header)
description: Longer description of the info node used in link page previews.
lines: line numbers
@dacx */
```

Example:

```go
/* @dacx
id: how-to-run-a-temporal-cloud-worker-in-go
title: How to run a Temporal Cloud Worker in Go
label: Run a Cloud Worker
description: Use a certificate key pair and your Temporal Cloud Namespace to connect to Temporal Cloud.
lines: 1-52, 64
@dacx */
```

#### Basic line selection requirements

You must select both the opening multiline comment line and the closing multiline comment line whenever selecting multiline comments, as either a distinct selection or as part of a large group of Markdown and code.

For example:

```go
/*
This is treated as Markdown documentation.

Format this information as you would like any other Markdown content.

Since Markdown maintains readablibilty, anyone can read this, even when a [link](/somelink) is present.
*/

// MyCode is my code and this is treated the same as the code
func MyCode () error {
 // ...
}

/* @dacx
id: my-dacx-code-example
title: My DACX code example
label: DACX example
description: Always select the opening and closing multiline comment characters.
lines: 1-7
@dacx */
```

In the above example, we capture lines 1-7 to capture the whole multiline comment section. Notion is not good at showing line numbers in code blocks, but most editors do it well by default.

We could also capture the full multiline comment as part of capturing a group of Markdown and code:

```go
/* @dacx
id: my-dacx-code-example
title: My DACX code example
label: DACX example
description: Always select the opening and closing multiline comment characters.
lines: 1-12
@dacx */
```

#### Use Assembly to generate the info nodes

In the documentation repo, run `yarn assemble --samples` to generate the information nodes into their respective language specific docs-src directory.

For example, information nodes generated from `.go` files are generated into the `/docs-src/go` directory.

#### Add info nodes to an Assembly guide config

In the documentation repo, register the information node to a [guide configuration](https://github.com/temporalio/documentation/tree/main/assembly/guide-configs).

Arrange the information nodes to create a linear experience.

In many cases, information nodes are attached to Developer guide configurations.

For example:

```json
{
  "file_name": "foundations.md",
  "id": "foundations",
  "file_dir": "application-development/golang",
  "title": "Go SDK developer's guide - Foundations",
  "sidebar_label": "Foundations", // This is the label of the guide in the sidebar
  "sidebar_position": 1, // This is the position within the sidebar relative to others at the same level
  "description": "The Foundations section of the Temporal Go SDK Developer's guide covers the minimum set of concepts and implementation details needed to build and run a Temporal Application in Go – that is, all the relevant steps to start a Workflow Execution that executes an Activity.",
  "use_description": false,
  "toc_max_heading_level": 4,
  "add_tabs_support": true,
  "sections": [
    {
      "type": "p", // use p for sections that you don't want a header for or want to string together.
      "id": "go/foundations"
    },
    {
      "type": "h2",
      "id": "go/add-sdk"
    },
    {
      "type": "h2", // this is the header level you want
      "id": "how-to-develop-a-workflow-in-go" // this is the id of the info node
    }
    // ...
}
```

#### Run Assembly one more time

In the documentation repo, run `yarn assemble` to generate the guides from the guide configurations.

Locally you can preview your work in the docs repo using `yarn start`

### How to use Snipsync

Make sure your source code repository is registered in the `snipsync.config.yaml` file.

In the `docs-src` Information Nodes, place your [snipsync](https://github.com/temporalio/snipsync) snippet wrappers where you want the snippet to be.

```
<!--SNIPSTART typescript-hello-client -->
<!--SNIPEND-->

```

Run `yarn snipsync`, to merge the snippet contents (in this case, from `[samples-typescript](https://github.com/temporalio/samples-typescript/blob/75bdcd613bd24f8f357cb96d1b83051353c5685a/hello-world/src/client.ts#L1)`) between the `SNIPSTART` and `SNIPEND` tags.

[Run the Assembly Workflow](https://www.notion.so/Documentation-repo-README-content-WIP-ddd0e586594246b3b9948919bbf7b12b?pvs=21).

Format the files with `yarn format` .

[Put up a Pull Request](#how-to-put-up-a-pull-request).

### How to put up a Pull Request

Commit your changes to a new branch.

If you are outside the Temporal organization, you must fork the repository and create Pull Requests from branches on your own fork.

The README in GitHub's [first-contributions repo](https://github.com/firstcontributions/first-contributions) provides an example.

You get a deployment preview for each push to the Pull Request.

!https://github.com/temporalio/documentation/raw/main/static/img/readme/vercel-deploy-preview.png

If you don't belong to the Temporal organization, a member of the Temporal @temporalio/education team will need to approve your preview.

If you don't belong to the Temporal organization, you may need to sign the Contributor License Agreement yourself.

The @temporalio/education team tries to review GitHub issues and pull requests on a regular schedule.

When we merge your Pull Request, a new build automatically occurs and your changes publish to [https://docs.temporal.io](https://docs.temporal.io/).

#### Assembly Workflow merge conflicts

Running Assembly again will fix any merge conflict to ASSEMBLY_REPORT.md and generated guides in the docs directory.

Restart your Worker after merging main and before running Assembly again.

### How to preview the site locally

Run `yarn start`. This command starts a local development server and opens a browser window to [localhost:3000](http://localhost:3000/).

## Local development command reference

The following commands are available to aid in local development:

### `yarn`

This command ensures all the required dependencies are installed.

### `yarn build`

This command triggers a Docusaurus build and results in the browser consumable Javascript in the `/build` directory.
Note that the `/build` directory is ignored by Git.

### `yarn start`

This command spins up a local web server and serves up the contents of the `/build` directory to [localhost:3000](http://localhost:3000/).

### `yarn assemble`

This command starts the Assembly Workflow. You must have a Temporal Cluster to connect to for the Assembly Workflow to run.

It accepts the following arguments:

#### `--cloud`

When provided, this flag causes the Temporal Client to connect to a Temporal Cloud Namespace. This flag requires that the following private information is set in `assembly/secure` :

- `docs-assembly.pem`: Paste and save the full CA certificate text.
- `docs-assembly.key`: Paste and save the full secret that was generated with the certificate.
- `cloud-connection.json`: Paste the following JSON, replacing the values with your own.

```
{
  "address": "your-cloud-address",
  "unique_id": "your-unique-custom-id",
  "namespace": "your-namespace"
}

```

#### `—samples`

When provided, this flag causes the Assembly Workflow to generate information nodes from the documentation samples repositories.

### `yarn format`

This command formats the documents per the `dprint.json` configuration.

### `yarn snipsync`

This command runs the Snipsync tool per the snipsync.config.yaml file.

### `--clear`

Run `yarn snipsync --clear` to remove the snippets.
