---
id: add-replay-test-to-background-check-workflow
title: Add a Replay test
sidebar_label: Add Replay test
description: Define the code needed to run a Worker Process in Go.
tags:
- testing
- replay test
- replayer
---

<!-- DO NOT EDIT THIS FILE DIRECTLY.
THIS FILE IS GENERATED from https://github.com/temporalio/documentation/blob/main/sample-apps/go/dev-guide/chapters/durability/tests/backgroundcheck_test.go. -->

Add the Replay test to the set of application tests.
The Replayer is available from the `go.temporal.io/sdk/worker` package in the SDK.
Register the Workflow Definition and then specify an existing Event History to compare to.

Run the tests in the test directory (`go test`).
If the Workflow Definition and the Event History are incompatible then the test fails.

<div class="copycode-notice-container"><a href="https://github.com/temporalio/documentation/blob/main/sample-apps/go/dev-guide/chapters/durability/tests/backgroundcheck_test.go">View the source code</a> in the context of the rest of the application code.</div>

```go
// TestReplayWorkflowHistoryFromFile tests for Event History compatibility.
func (s *UnitTestSuite) TestReplayWorkflowHistoryFromFile() {
	// Create a new Replayer
	replayer := worker.NewWorkflowReplayer()
	// Register the Workflow with the Replayer
	replayer.RegisterWorkflow(workflows.BackgroundCheck)
	// Compare the current Workflow code against the existing Event History
	// This call fails unless updated to use 'backgroundcheck_workflow_event_history_with_timer.json'
	err := replayer.ReplayWorkflowHistoryFromJSONFile(nil, "backgroundcheck_workflow_event_history.json")
	s.NoError(err)
}
```
