---
id: add-replay-test-to-background-check-workflow
title: Add a Replay test
sidebar_label: Add Replay test
description: Define the code needed to run a Worker Process in Python.
tags:
- testing
- replay test
- replayer
---

<!-- DO NOT EDIT THIS FILE DIRECTLY.
THIS FILE IS GENERATED from https://github.com/temporalio/documentation-samples-python/blob/main/backgroundcheck_replay/tests/replay_dacx_test.py. -->

Add the Replay test to the set of application tests.
The Replayer is available from the [Replayer](https://python.temporal.io/temporalio.worker.Replayer.html) class in the SDK.
Register the Workflow Definition and then specify an existing Event History to compare to.

Run the tests in the test directory (pytest).
If the Workflow Definition and the Event History are incompatible, then the test fails.

<div class="copycode-notice-container"><div class="copycode-notice"><img data-style="copycode-icon" src="/icons/copycode.png" alt="Copy code icon" /> Sample application code information <img id="i-id1614337090" data-event="clickable-copycode-info" data-style="chevron-icon" src="/icons/chevron.png" alt="Chevron icon" /></div><div id="copycode-info-id1614337090" class="copycode-info">The following code sample comes from a working and tested sample application. The code sample might be abridged within the guide to highlight key aspects. Visit the source repository to <a href="https://github.com/temporalio/documentation-samples-python/blob/main/backgroundcheck_replay/tests/replay_dacx_test.py">view the source code</a> in the context of the rest of the application code.</div></div>

```python
@pytest.mark.asyncio
async def test_replay_workflow_history_from_file():
    async with await WorkflowEnvironment.start_time_skipping():
        with open("tests/backgroundcheck_workflow_history.json", "r") as f:
            history_json = json.load(f)
```
