# Temporal Product Overview

This document provides a comprehensive overview of Temporal's product, features, and capabilities based on a systematic review of all documentation.

## Product Summary

Temporal is a scalable and reliable runtime platform for building durable, fault-tolerant distributed applications through a "Workflow-as-Code" approach. It enables developers to write complex, long-running business processes as code that can survive failures, retries, and infrastructure issues while maintaining state and progress. The platform consists of the Temporal Service (server-side infrastructure) and SDKs in multiple languages that provide APIs for building Workflow and Activity definitions.

### Core Value Proposition

- **Durable Execution**: Workflow Executions maintain their state and progress even in the face of failures, crashes, or server outages
- **Reliability**: Built-in retry mechanisms, failure handling, and state management
- **Scalability**: Designed to handle millions of concurrent workflow executions
- **Developer Experience**: Write distributed systems logic as simple procedural code

## Core Concepts

### Workflow Execution

A Temporal Workflow Execution is a durable, scalable, reliable, and reactive function execution. It is the main unit of execution of a Temporal Application. Workflows are reentrant processes that can:
- Execute for extended periods (days, months, or years)
- Survive process failures and restarts
- Maintain full execution history
- Be queried for current state
- Receive signals and updates while running

### Activities

Activities are the building blocks for interacting with external systems and performing non-deterministic operations:
- **Activity Definition**: Code that defines the constraints of an Activity Task Execution
- **Activity Execution**: The full chain of Activity Task Executions
- **Activity Heartbeat**: Mechanism to report progress for long-running activities
- **Local Activities**: Lightweight activities that execute in the same process as the workflow

### Workers

Workers are the execution environment for Workflows and Activities:
- **Worker Process**: Polls Task Queues, dequeues Tasks, executes code, and responds to the Temporal Service
- **Worker Program**: Static code defining Worker Process constraints using SDK APIs
- **Worker Entity**: Individual worker within a process listening to a specific Task Queue

### Task Queues

A Task Queue is a first-in, first-out queue that Workers poll for Tasks. Task Queues enable:
- Decoupling of workflow scheduling from execution
- Task routing to specific workers
- Load balancing across worker pools
- Versioning and gradual rollout strategies

### Event History

An append-only log of Events representing the full state of a Workflow Execution. Events are created by the Temporal Service in response to:
- External occurrences (starting workflows, sending signals)
- Commands generated by Workflow Executions
- Approximately 40 different event types can appear in a Workflow's history

### Namespaces

A Namespace is a unit of isolation within the Temporal Platform, providing:
- Multi-tenancy support
- Independent retention policies
- Separate visibility and search configuration
- Access control boundaries

## Key Features

### Workflow Message Passing

**Signals**: Asynchronous requests to a Workflow Execution
- Send data to running workflows
- Can be sent before workflow starts (buffered)
- Durable and reliable delivery

**Queries**: Synchronous operations to report Workflow Execution state
- Read-only operations
- Return current workflow state
- Don't modify workflow history

**Updates**: Request to and response from Workflow Execution
- Synchronous communication with validation
- Can modify workflow state
- Returns results to caller

### Failure Handling and Retries

**Retry Policies**: Collection of attributes instructing how to retry failures
- Configurable for both Workflows and Activities
- Exponential backoff support
- Maximum attempts and timeout controls

**Failure Types**: Temporal represents various error types:
- Application failures
- Timeout failures  
- Terminated failures
- Canceled failures
- Server failures

### Timeouts

Multiple timeout types for fine-grained control:
- **Workflow Execution Timeout**: Maximum time for entire workflow including retries
- **Workflow Run Timeout**: Maximum time for a single workflow run
- **Workflow Task Timeout**: Maximum wait time for worker to process workflow task
- **Activity Timeouts**: Schedule-To-Start, Start-To-Close, Schedule-To-Close, Heartbeat

### Schedules

Schedule Workflow Executions at specified times:
- Cron-based scheduling
- Calendar-based intervals
- One-time scheduled execution
- Pause, resume, and modify schedules

### Child Workflows

Spawn Workflow Executions from within another Workflow:
- Hierarchical workflow organization
- Parent-child relationships tracked
- Parent Close Policy determines child behavior on parent completion
- Independent or coupled lifecycle management

### Continue-As-New

Mechanism to pass relevant state to a new Workflow Execution with fresh Event History:
- Prevents unbounded history growth
- Maintains workflow continuity
- Essential for long-running workflows with iterations

### Data Conversion and Security

**Data Converter**: Serializes and encodes data entering/exiting Temporal Service
- Default converters for common data types
- Custom converters for specialized needs
- Support for multiple encoding formats

**Payload Codec**: Transforms Payloads for encryption/compression
- Client-side encryption
- Compression before transmission
- Remote data encoding via Codec Server

**Failure Converter**: Converts error objects to proto Failures and back

### Visibility and Search

**Search Attributes**: Indexed metadata for filtering workflows
- Default attributes (Workflow Type, Status, Start Time, etc.)
- Custom attributes for application-specific data
- Support SQL-like queries (List Filters)

**Advanced Visibility**: Query and filter Workflow Executions using Search Attributes

**Dual Visibility**: Feature for migrating visibility data between databases (self-hosted)

### Nexus (Cross-Namespace Communication)

Nexus enables durable communication across namespace, cluster, region, and cloud boundaries:

**Nexus Operations**: Arbitrary-duration operations (sync or async)
- Connect durable executions within and across boundaries
- Support long-running operations backed by workflows
- Uniform interface for status, results, completion callbacks, and cancellation

**Nexus Services**: Named collections of Nexus Operations providing microservice contracts

**Nexus Endpoints**: Reverse proxies serving Nexus Services
- Route requests to target Namespaces and Task Queues
- Hide implementation details
- Support service versioning

**Nexus Registry**: Manages endpoints and provides lookup services

**Nexus RPC**: Protocol designed for durable execution with built-in machinery for at-least-once execution

## Architecture

### Temporal Service

The server-side infrastructure consists of four horizontally scalable services:

**Frontend Service**: Stateless gateway with strongly-typed Proto API
- Rate limiting
- Authorization
- Validation
- Routing of all inbound calls

**History Service**: Core workflow execution engine
- Persists Workflow Execution state
- Determines next steps to progress workflows
- Manages History Shards for scale

**Matching Service**: Task Queue management
- Hosts external Task Queues
- Dispatches tasks to workers
- Load balancing

**Worker Service**: Background processing
- Replication queue
- System workflows
- Internal maintenance tasks

### History Shards

Important unit for measuring concurrent Workflow Execution throughput. History is partitioned across shards for horizontal scalability.

### Persistence

Temporal Service requires persistence storage for:
- Workflow execution state and history
- Task queue state
- Namespace configuration
- Visibility data (can be separate store)

### Sticky Execution

Performance optimization where Workers cache Workflow Event History and create dedicated Task Queues:
- Reduces latency
- Minimizes history loading
- Improves throughput

## SDKs and Language Support

Temporal provides official SDKs for seven programming languages:

### Go SDK
- High performance
- Native Go idioms
- Production-ready
- Comprehensive feature support

### Java SDK
- Enterprise-ready
- Spring Boot integration
- Android support
- Extensive Activity and Workflow APIs

### Python SDK
- Type-safe with type hints
- Async/await support
- asyncio integration
- Data class support

### TypeScript SDK
- Full TypeScript type safety
- Modern async/await patterns
- Node.js runtime
- Isolates-based execution model

### .NET SDK
- C# language support
- .NET Core compatibility
- Async/Task patterns
- LINQ support where applicable

### PHP SDK
- RoadRunner integration
- Async support via Amphp
- Popular framework compatibility

### Ruby SDK
- Idiomatic Ruby patterns
- Production-ready
- Rails integration support

### Core SDK

Several SDKs (TypeScript, Python, .NET, Ruby, PHP) are built on a shared Rust-based Core SDK:
- Complex concurrency management
- State machine logic
- Enables rapid feature deployment
- Consistent behavior across language SDKs

### SDK Capabilities

All SDKs provide:
- **Temporal Client**: APIs to communicate with Temporal Service
- **Workflow Development**: Framework for defining workflows
- **Activity Development**: Framework for defining activities
- **Worker Programs**: APIs to build and configure workers
- **Testing Utilities**: Tools for unit and integration testing
- **Observability**: Metrics, logging, and tracing support

## Deployment Options

### Temporal Cloud

Managed, hosted Temporal environment providing:

**Key Benefits**:
- Fully managed infrastructure
- 99.9% uptime SLA
- Automatic scaling
- Global availability across multiple regions (AWS and GCP)
- Multi-region and multi-cloud replication
- Enterprise-grade security and compliance

**Features**:
- Namespace management
- User access control (SSO/SAML support)
- Audit logging
- Metrics and observability
- mTLS authentication required
- Data encryption at rest and in transit
- Workflow History Export to customer-owned storage

**Pricing**: Based on Actions (fundamental pricing unit)
- Actions Per Second (APS) rate limits per namespace
- Pay for actual usage

**High Availability Features**:
- Multi-region replication (different geographic regions)
- Multi-cloud replication (AWS to GCP or vice versa)
- Same-region replication (within same region, different isolation domain)
- Automatic failover and failback
- Replication lag monitoring

### Self-Hosted Deployment

Run Temporal Service on your own infrastructure:

**Deployment Methods**:
- Docker Compose (development)
- Kubernetes (Helm charts available)
- Manual deployment on VMs

**Configuration Requirements**:
- Persistence store (Cassandra, PostgreSQL, MySQL)
- Visibility store (Elasticsearch, PostgreSQL, MySQL, Cassandra)
- Load balancer configuration
- Network and security setup

**Features**:
- Full control over infrastructure
- Custom scaling configurations
- Private network deployment
- Custom plugins and extensions

**Advanced Self-Hosted Features**:
- Multi-Cluster Replication: Asynchronously replicate workflows across clusters
- Archival: Backup Event Histories to blob storage after retention period
- Global Namespaces: Replicate data between active and standby clusters with failover
- Custom Authorizer Plugins: Implement custom authorization logic
- Custom Claim Mappers: Extract claims from JWTs for authentication

### Worker Deployments

Workers can be deployed:
- As standalone processes
- In Kubernetes pods
- As serverless functions (with considerations)
- On-premises or in cloud
- Co-located with application services or separate

## Command Line Tools

### Temporal CLI

Most recent command-line tool for interacting with Temporal:
- Start/manage dev server
- Workflow operations (start, signal, query, cancel, terminate)
- Schedule management
- Namespace administration
- Activity management
- Task Queue inspection
- Batch operations
- Testing and debugging utilities

### tcld (Temporal Cloud CLI)

Dedicated CLI for Temporal Cloud operations:
- Namespace management
- User and access control
- API key management
- Certificate management
- Metrics configuration
- Service account management

### tctl (v1 - Deprecated)

Legacy command-line tool, superseded by Temporal CLI.

## Web UI

The Temporal Web UI provides comprehensive workflow management:

**Workflow Management**:
- List and filter workflows by status, type, time, or Search Attributes
- Saved Views for frequently used queries
- View complete Event History (timeline, compact, JSON views)
- Download Event History
- Workflow actions (cancel, signal, query, update, terminate, reset)
- Start new workflows with pre-filled values

**Debugging Features**:
- Event History with detailed event information
- Call Stack inspection
- Pending Activities view
- Worker status monitoring
- Query execution
- User Metadata display

**Schedule Management**:
- List all schedules
- View schedule configuration
- See recent and upcoming runs
- Pause/resume schedules

**Additional Features**:
- Namespace switching
- Codec Server integration for encrypted data viewing
- Archive access (self-hosted)
- Relationship visualization (parent/child workflows)
- Billing information (Cloud: Actions count)

## Security

### Temporal Cloud Security

**Authentication**:
- mTLS required for all connections
- Certificate-based client authentication
- Support for certificate renewal

**Authorization**:
- Role-based access control (RBAC)
- Account-level roles (Owner, Admin, Developer, Read-Only)
- Namespace-level permissions
- SSO/SAML integration

**Data Protection**:
- End-to-end encryption using client-side codecs
- Encryption at rest
- Encryption in transit (TLS 1.3)
- Customer-controlled encryption keys (via codec)
- Data isolation per namespace

**Compliance**:
- SOC 2 Type II
- GDPR compliance
- HIPAA eligible
- Regular security audits

**Audit Logging**:
- Forensic access information
- User activity tracking
- API call logging
- Exportable audit logs

### Self-Hosted Security

**Network Security**:
- TLS for all service communication
- mTLS support for client connections
- Network isolation options
- Custom certificate authorities

**Authorization Plugins**:
- Custom Authorizer plugin interface
- Claim Mapper for JWT processing
- Fine-grained permission control
- Integration with existing identity providers

**Data Encryption**:
- At-rest encryption via storage layer
- In-transit encryption via TLS
- Client-side encryption via custom Data Converters
- Codec Server for remote encryption/decryption

## Best Practices

Key best practices referenced in documentation:

1. **Workflow Design**: Keep workflows deterministic, use Activities for non-deterministic operations
2. **Error Handling**: Implement comprehensive retry policies and failure handling
3. **Testing**: Use SDK testing frameworks for unit and integration tests
4. **Versioning**: Plan for workflow code changes with versioning strategies
5. **Performance**: Use Local Activities for lightweight operations, tune worker configurations
6. **Security**: Always use encryption for sensitive data, implement proper access controls
7. **Monitoring**: Instrument with metrics, set up alerts, monitor worker health
8. **Scalability**: Partition work across task queues, use appropriate workflow patterns (fan-out, etc.)

## Use Cases

Based on the platform capabilities, Temporal is suitable for:

- **Microservice Orchestration**: Coordinate multiple services in distributed transactions
- **Business Process Automation**: Model complex business workflows with human tasks
- **Data Pipelines**: Build reliable ETL and data processing workflows
- **Infrastructure Provisioning**: Automate resource provisioning and configuration
- **Transaction Processing**: Implement SAGA patterns and distributed transactions
- **Batch Processing**: Schedule and manage large-scale batch jobs
- **Customer Journeys**: Implement multi-step customer onboarding and lifecycle management
- **Monitoring and Remediation**: Build self-healing systems with automated incident response

## Product Maturity and Release Stages

Temporal features go through defined release stages:

- **Pre-release**: Early development, not recommended for production
- **Public Preview**: Feature-complete but may have limitations, feedback welcome
- **General Availability**: Production-ready, fully supported, SLA coverage

## AI Cookbook

Temporal provides an AI Cookbook with recipes and patterns for building AI applications:

### Core AI Patterns
- **Hello World with OpenAI**: Simple LLM invocation from Temporal Activities using OpenAI Python API
- **Structured Outputs**: Using OpenAI's Structured Outputs API with Pydantic models for type-safe responses
- **Tool Calling Agent**: Building agents that intelligently choose and invoke tools (Activities)
- **Durable Agent with OpenAI Agents SDK**: Integration with OpenAI Agents SDK for sophisticated agent workflows
- **Deep Research System**: Multi-agent research pipeline with planning, query generation, web search, and synthesis phases
- **LiteLLM Integration**: Multi-provider LLM support through LiteLLM library

### AI-Specific Best Practices
- **Retry Management**: Disable SDK client retries (set max_retries=0), let Temporal handle retries
- **HTTP Response Handling**: Parse HTTP headers (Retry-After) and status codes to inform Temporal's retry logic
- **Generic Activities**: Create reusable Activities for LLM invocations with configurable parameters
- **Data Converter Configuration**: Use pydantic_data_converter for serializing/deserializing Pydantic types and LLM responses
- **Structured Output Validation**: Implement Pydantic validators for fields to catch sporadic LLM errors
- **Activity Timeout Configuration**: Set appropriate start_to_close_timeout for varying response times of reasoning models

### AI Use Cases Demonstrated
- Multi-phase research workflows with concurrent execution
- Agent-based tool selection and execution
- Data cleaning and extraction with LLM-powered parsing
- Recursive thinking and planning agents
- Web exploration with citation management

## Additional Features

### Temporal Cron Jobs

Schedule recurring Workflow Executions using cron syntax:
- Series of workflows with shared Workflow ID
- Configurable schedule
- Overlap policies
- Different from Schedules feature (legacy approach)

### Dynamic Handlers

Workflows, Activities, Signals, or Queries that are unnamed and invoked when no named handler matches:
- Runtime flexibility
- Generic workflow patterns
- Reduced code duplication

### Side Effects

Execute short, non-deterministic code snippets:
- Result recorded in Event History
- Executed only once
- Deterministic replay guaranteed

### Workflow Delays

Start Delay feature determines wait time before initiating Workflow Execution:
- Can be bypassed by Signal-With-Start or Update-With-Start
- Useful for scheduled operations

### Idempotency

Design pattern for activities:
- Prevents duplicate operations
- Safe retries
- Data integrity protection

### State Transitions

A unit of progress by a Workflow Execution, corresponding to Events in history.

## Observability

### Metrics

Both Cloud and self-hosted provide comprehensive metrics:

**Temporal Cloud**:
- OpenMetrics endpoint integration
- Pre-built dashboards
- Prometheus-compatible format
- Grafana integration guides

**Self-Hosted**:
- Prometheus metrics export
- Custom metrics configuration
- Service-level metrics (Frontend, History, Matching, Worker)
- Client SDK metrics

**Key Metrics Categories**:
- Workflow execution metrics
- Activity execution metrics  
- Task queue metrics
- Service health metrics
- Worker metrics

### Logging

- Structured logging support in all SDKs
- Configurable log levels
- Integration with standard logging frameworks
- Cloud audit logging for compliance

### Tracing

- Distributed tracing support
- OpenTelemetry integration
- Context propagation across workflows and activities

## Migration and Integration

### Migration to Temporal Cloud

Tools and guidance for migrating from self-hosted to Cloud:
- Workflow History migration
- Dual-write strategies
- Namespace configuration transfer
- Testing and validation procedures

### Integration Points

- REST API via Frontend Service
- gRPC API (primary interface)
- Webhook support for external notifications
- Custom plugins and extensions (self-hosted)

## Rate Limiting

**Temporal Cloud**: Actions Per Second (APS)
- Per-namespace rate limits
- Configurable based on plan
- Measured at API level

**Self-Hosted**: Requests Per Second (RPS)
- Service-level rate limiting
- Configurable via dynamic configuration
- Frontend, History, and Matching service limits

## Visibility Store Options (Self-Hosted)

Support for multiple database backends:
- Elasticsearch (recommended for advanced visibility)
- PostgreSQL
- MySQL
- Cassandra

Dual Visibility feature enables migration between stores without downtime.

## Version Compatibility

Documentation covers version compatibility considerations:
- SDK version requirements
- Server version requirements
- Upgrade paths
- Breaking changes

---

*This overview will be continuously updated as more documentation is reviewed.*
